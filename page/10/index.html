<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>YiYing’s sharing</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="独立之精神,自由之思想">
<meta property="og:type" content="website">
<meta property="og:title" content="YiYing’s sharing">
<meta property="og:url" content="http://muchstudy.com/page/10/index.html">
<meta property="og:site_name" content="YiYing’s sharing">
<meta property="og:description" content="独立之精神,自由之思想">
<meta property="og:locale">
<meta property="article:author" content="YiYing">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="YiYing’s sharing" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">YiYing’s sharing</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://muchstudy.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-基础数据结构04：背包" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/07/18/%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%8404%EF%BC%9A%E8%83%8C%E5%8C%85/" class="article-date">
  <time datetime="2017-07-18T07:28:23.000Z" itemprop="datePublished">2017-07-18</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/07/18/%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%8404%EF%BC%9A%E8%83%8C%E5%8C%85/">基础数据结构04：背包</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>&emsp;&emsp;背包是一种不支持从中删除元素的集合数据类型。它存在的目的就是帮助收集元素并迭代遍历收集到的元素。迭代的顺序不确定且与用例无关。</p>
<h2 id="API"><a href="#API" class="headerlink" title="API"></a>API</h2><img src="/2017/07/18/%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%8404%EF%BC%9A%E8%83%8C%E5%8C%85/api.jpg" class="">

<h2 id="Java实现"><a href="#Java实现" class="headerlink" title="Java实现"></a>Java实现</h2><p>&emsp;&emsp;背包可以使用数组，也可以使用链表来实现。如果使用数组，需要考虑数组的动态扩容。这里使用链表来实现，避免数组扩容的问题。另外沿用上一篇stack的实现，只需要把push方法修改为add方法即可。虽然使用链表后，元素遍历是有一定顺序的，不过没用影响，因为当使用Bag数据结构时，默认会认为遍历的数据是无序的。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.algs.base;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.NoSuchElementException;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LinkBag</span>&lt;<span class="title">Item</span>&gt; <span class="keyword">implements</span> <span class="title">Iterable</span>&lt;<span class="title">Item</span>&gt; </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> Node first;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> N;			<span class="comment">// 背包中的元素数量</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// 背包中每个元素的类型为Node</span></span><br><span class="line">	<span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span></span>&#123;</span><br><span class="line">		Item item;</span><br><span class="line">		Node next;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span></span>&#123;<span class="keyword">return</span> N==<span class="number">0</span>;&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span></span>&#123;<span class="keyword">return</span> N;&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 添加元素(跟栈的push一样)</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(Item item)</span></span>&#123;</span><br><span class="line">		Node oldFirst = first;</span><br><span class="line">		first = <span class="keyword">new</span> Node();</span><br><span class="line">		first.item = item;</span><br><span class="line">		first.next = oldFirst;</span><br><span class="line">		N++;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> Iterator&lt;Item&gt; <span class="title">iterator</span><span class="params">()</span>  </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ListIterator();  </span><br><span class="line">    &#125;</span><br><span class="line">	<span class="comment">//链表遍历实现</span></span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">ListIterator</span> <span class="keyword">implements</span> <span class="title">Iterator</span>&lt;<span class="title">Item</span>&gt; </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> Node current = first;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span>  </span>&#123; <span class="keyword">return</span> current != <span class="keyword">null</span>;                     &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">remove</span><span class="params">()</span>      </span>&#123; <span class="keyword">throw</span> <span class="keyword">new</span> UnsupportedOperationException();  &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> Item <span class="title">next</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (!hasNext()) <span class="keyword">throw</span> <span class="keyword">new</span> NoSuchElementException();</span><br><span class="line">            Item item = current.item;</span><br><span class="line">            current = current.next;</span><br><span class="line">            <span class="keyword">return</span> item;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    	LinkBag&lt;String&gt; bag = <span class="keyword">new</span> LinkBag&lt;String&gt;();</span><br><span class="line">    	bag.add(<span class="string">&quot;one&quot;</span>);</span><br><span class="line">    	bag.add(<span class="string">&quot;two&quot;</span>);</span><br><span class="line">    	bag.add(<span class="string">&quot;three&quot;</span>);</span><br><span class="line">		<span class="keyword">for</span>(String node:bag)&#123;</span><br><span class="line">			<span class="comment">//打印结果为：three-&gt;two-&gt;one-&gt;</span></span><br><span class="line">			System.out.print(node+<span class="string">&quot;-&gt;&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>GitHub：<a target="_blank" rel="noopener" href="https://github.com/AlbertKnag/algs-practice">https://github.com/AlbertKnag/algs-practice</a></p>
<p>上一篇：<a href="http://muchstudy.com/2017/07/02/%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%8403%EF%BC%9A%E6%A0%88/">基础数据结构03：栈</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://muchstudy.com/2017/07/18/%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%8404%EF%BC%9A%E8%83%8C%E5%8C%85/" data-id="cm5tqeevg006dwayp7iu9g5g2" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-基础数据结构03：栈" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/07/02/%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%8403%EF%BC%9A%E6%A0%88/" class="article-date">
  <time datetime="2017-07-02T15:58:27.000Z" itemprop="datePublished">2017-07-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/07/02/%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%8403%EF%BC%9A%E6%A0%88/">基础数据结构03：栈</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>&emsp;&emsp;栈是一种后进先出的数据结构。栈类似于一截一端封口的竹筒，不断像竹筒中放入东西，然后不断从中取出东西，最后放进竹筒中的东西总是最先被取出来，最先放进竹筒里的东西由于在竹筒的最底部，总是最后被取出来。</p>
<h2 id="API"><a href="#API" class="headerlink" title="API"></a>API</h2><img src="/2017/07/02/%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%8403%EF%BC%9A%E6%A0%88/api.jpg" class="">

<h2 id="Java实现"><a href="#Java实现" class="headerlink" title="Java实现"></a>Java实现</h2><p>&emsp;&emsp;使用链表来实现栈的数据结构。也可以使用数组来实现，需要额外实现数组大小的动态增加和缩小。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.algs.base;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.NoSuchElementException;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LinkStack</span>&lt;<span class="title">Item</span>&gt; <span class="keyword">implements</span> <span class="title">Iterable</span>&lt;<span class="title">Item</span>&gt; </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> Node first;		<span class="comment">// 栈顶，即最近添加的元素</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> N;			<span class="comment">// 栈中的元素数量</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// 栈中每个元素的类型为Node</span></span><br><span class="line">	<span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span></span>&#123;</span><br><span class="line">		Item item;</span><br><span class="line">		Node next;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span></span>&#123;<span class="keyword">return</span> N==<span class="number">0</span>;&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span></span>&#123;<span class="keyword">return</span> N;&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 入栈</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">push</span><span class="params">(Item item)</span></span>&#123;</span><br><span class="line">		Node oldFirst = first;</span><br><span class="line">		first = <span class="keyword">new</span> Node();</span><br><span class="line">		first.item = item;</span><br><span class="line">		first.next = oldFirst;</span><br><span class="line">		N++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// 出栈</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> Item <span class="title">pop</span><span class="params">()</span></span>&#123;</span><br><span class="line">		Item item = first.item;</span><br><span class="line">		first = first.next;</span><br><span class="line">		<span class="keyword">if</span>(first==<span class="keyword">null</span>)&#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;栈为空&quot;</span>);</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		N--;</span><br><span class="line">		<span class="keyword">return</span> item;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> Iterator&lt;Item&gt; <span class="title">iterator</span><span class="params">()</span>  </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ListIterator();  </span><br><span class="line">    &#125;</span><br><span class="line">	<span class="comment">//链表遍历实现</span></span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">ListIterator</span> <span class="keyword">implements</span> <span class="title">Iterator</span>&lt;<span class="title">Item</span>&gt; </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> Node current = first;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span>  </span>&#123; <span class="keyword">return</span> current != <span class="keyword">null</span>;                     &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">remove</span><span class="params">()</span>      </span>&#123; <span class="keyword">throw</span> <span class="keyword">new</span> UnsupportedOperationException();  &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> Item <span class="title">next</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (!hasNext()) <span class="keyword">throw</span> <span class="keyword">new</span> NoSuchElementException();</span><br><span class="line">            Item item = current.item;</span><br><span class="line">            current = current.next;</span><br><span class="line">            <span class="keyword">return</span> item;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    	LinkStack&lt;String&gt; stack = <span class="keyword">new</span> LinkStack&lt;String&gt;();</span><br><span class="line">    	stack.push(<span class="string">&quot;one&quot;</span>);</span><br><span class="line">    	stack.push(<span class="string">&quot;two&quot;</span>);</span><br><span class="line">    	stack.push(<span class="string">&quot;three&quot;</span>);</span><br><span class="line">		<span class="keyword">for</span>(String node:stack)&#123;</span><br><span class="line">			<span class="comment">//打印结果为：three-&gt;two-&gt;one-&gt;</span></span><br><span class="line">			System.out.print(node+<span class="string">&quot;-&gt;&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//删除一个元素</span></span><br><span class="line">		System.out.println(<span class="string">&quot;&quot;</span>);</span><br><span class="line">		<span class="comment">//打印结果为：node:three</span></span><br><span class="line">		System.out.println(<span class="string">&quot;node:&quot;</span>+stack.pop());</span><br><span class="line">		<span class="keyword">for</span>(String node1:stack)&#123;</span><br><span class="line">			<span class="comment">//打印结果为：two-&gt;one-&gt;</span></span><br><span class="line">			System.out.print(node1+<span class="string">&quot;-&gt;&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>GitHub：<a target="_blank" rel="noopener" href="https://github.com/AlbertKnag/algs-practice">https://github.com/AlbertKnag/algs-practice</a></p>
<p>上一篇：<a href="http://muchstudy.com/2017/06/30/%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%8402%EF%BC%9A%E9%98%9F%E5%88%97/">基础数据结构02：队列</a><br>下一篇：<a href="http://muchstudy.com/2017/07/18/%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%8404%EF%BC%9A%E8%83%8C%E5%8C%85/">基础数据结构04：背包</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://muchstudy.com/2017/07/02/%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%8403%EF%BC%9A%E6%A0%88/" data-id="cm5tqeeve0069waypfoa7htmj" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-基础数据结构02：队列" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/06/30/%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%8402%EF%BC%9A%E9%98%9F%E5%88%97/" class="article-date">
  <time datetime="2017-06-30T15:49:13.000Z" itemprop="datePublished">2017-06-30</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/06/30/%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%8402%EF%BC%9A%E9%98%9F%E5%88%97/">基础数据结构02：队列</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>&emsp;&emsp;队列是一种先进先出的数据结构。类似于一截水从一端流向另一端的水管，先进入水管的水最先从另一端出来。</p>
<h2 id="API"><a href="#API" class="headerlink" title="API"></a>API</h2><img src="/2017/06/30/%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%8402%EF%BC%9A%E9%98%9F%E5%88%97/api.jpg" class="">

<h2 id="Java实现"><a href="#Java实现" class="headerlink" title="Java实现"></a>Java实现</h2><p>&emsp;&emsp;下面使用链表来实现先进先出的数据结构。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.algs.base;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.NoSuchElementException;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LinkQueue</span>&lt;<span class="title">Item</span>&gt; <span class="keyword">implements</span> <span class="title">Iterable</span>&lt;<span class="title">Item</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> Node first;		<span class="comment">// 指向最早添加的节点的链接</span></span><br><span class="line">	<span class="keyword">private</span> Node last;		<span class="comment">// 指向最近添加的节点的链接</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> N;			<span class="comment">// 队列中的元素总数量</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// 队列中的一个元素</span></span><br><span class="line">	<span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span></span>&#123;</span><br><span class="line">		Item item;</span><br><span class="line">		Node next;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span></span>&#123;<span class="keyword">return</span> N==<span class="number">0</span>;&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span></span>&#123;<span class="keyword">return</span> N;&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 向队列中添加一个元素</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">enqueue</span><span class="params">(Item item)</span></span>&#123;</span><br><span class="line">		<span class="comment">// 向链表的尾部添加一个元素</span></span><br><span class="line">		Node oldLast = last;</span><br><span class="line">		last = <span class="keyword">new</span> Node();</span><br><span class="line">		last.item = item;</span><br><span class="line">		last.next = <span class="keyword">null</span>;</span><br><span class="line">		<span class="comment">//只有一个节点时，首节点和尾节点相等</span></span><br><span class="line">		<span class="keyword">if</span>(isEmpty()) 	first = last;</span><br><span class="line">		<span class="keyword">else</span>			oldLast.next = last;</span><br><span class="line">		N++;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//从队列中删除一个元素(先进先出)</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> Item <span class="title">dequeue</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(first==<span class="keyword">null</span>)&#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;队列中没有元素&quot;</span>);</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">// 从表头删除元素</span></span><br><span class="line">		Item item = first.item;</span><br><span class="line">		first = first.next;</span><br><span class="line">		<span class="keyword">if</span>(isEmpty())	last = <span class="keyword">null</span>;</span><br><span class="line">		N--;</span><br><span class="line">		<span class="keyword">return</span> item;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> Iterator&lt;Item&gt; <span class="title">iterator</span><span class="params">()</span>  </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ListIterator();  </span><br><span class="line">    &#125;</span><br><span class="line">	<span class="comment">//链表遍历实现</span></span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">ListIterator</span> <span class="keyword">implements</span> <span class="title">Iterator</span>&lt;<span class="title">Item</span>&gt; </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> Node current = first;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span>  </span>&#123; <span class="keyword">return</span> current != <span class="keyword">null</span>;                     &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">remove</span><span class="params">()</span>      </span>&#123; <span class="keyword">throw</span> <span class="keyword">new</span> UnsupportedOperationException();  &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> Item <span class="title">next</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (!hasNext()) <span class="keyword">throw</span> <span class="keyword">new</span> NoSuchElementException();</span><br><span class="line">            Item item = current.item;</span><br><span class="line">            current = current.next;</span><br><span class="line">            <span class="keyword">return</span> item;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    	LinkQueue&lt;String&gt; queue = <span class="keyword">new</span> LinkQueue&lt;String&gt;();</span><br><span class="line">    	queue.enqueue(<span class="string">&quot;One&quot;</span>);</span><br><span class="line">    	queue.enqueue(<span class="string">&quot;two&quot;</span>);</span><br><span class="line">    	queue.enqueue(<span class="string">&quot;three&quot;</span>);</span><br><span class="line">		<span class="keyword">for</span>(String node:queue)&#123;</span><br><span class="line">			<span class="comment">//打印结果为：One-&gt;two-&gt;three-&gt;</span></span><br><span class="line">			System.out.print(node+<span class="string">&quot;-&gt;&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//删除一个元素</span></span><br><span class="line">		System.out.println(<span class="string">&quot;&quot;</span>);</span><br><span class="line">		<span class="comment">//打印结果为：node:One</span></span><br><span class="line">		System.out.println(<span class="string">&quot;node:&quot;</span>+queue.dequeue());</span><br><span class="line">		<span class="keyword">for</span>(String node1:queue)&#123;</span><br><span class="line">			<span class="comment">//打印结果为：two-&gt;three-&gt;</span></span><br><span class="line">			System.out.print(node1+<span class="string">&quot;-&gt;&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><p>&emsp;&emsp;对于队列的实现，除了可以使用链表，还可以使用数组来实现。但是在Java中的数组，初始化时必须指定数组的大小，所以当使用数组来实现队列时，需要动态调整队列的大小。<br>&emsp;&emsp;当数组空间不够时，需要扩展空间。当队列中的元素只有空间的四分之一时，此时可以把数组的长度减半。</p>
<p>代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 以数组来实现队列或栈时需动态调整数组的大小</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">resize</span><span class="params">(<span class="keyword">int</span> max)</span></span>&#123;</span><br><span class="line">	<span class="comment">//将队列中的元素移动到新数组中</span></span><br><span class="line">	Item[] temp = (Item[])<span class="keyword">new</span> Object[max];</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;N;i++)&#123;</span><br><span class="line">		temp[i] = queue[i]; <span class="comment">//queue为存放队列元素的数组</span></span><br><span class="line">	&#125;</span><br><span class="line">	queue = temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>GitHub：<a target="_blank" rel="noopener" href="https://github.com/AlbertKnag/algs-practice">https://github.com/AlbertKnag/algs-practice</a></p>
<p>上一篇：<a href="http://muchstudy.com/2017/06/26/%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%8401%EF%BC%9A%E9%93%BE%E8%A1%A8/">基础数据结构01：链表</a><br>下一篇：<a href="http://muchstudy.com/2017/07/02/%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%8403%EF%BC%9A%E6%A0%88/">基础数据结构03：栈</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://muchstudy.com/2017/06/30/%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%8402%EF%BC%9A%E9%98%9F%E5%88%97/" data-id="cm5tqeevd0067waypgljgegf2" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-基础数据结构01：链表" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/06/26/%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%8401%EF%BC%9A%E9%93%BE%E8%A1%A8/" class="article-date">
  <time datetime="2017-06-26T14:21:13.000Z" itemprop="datePublished">2017-06-26</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/06/26/%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%8401%EF%BC%9A%E9%93%BE%E8%A1%A8/">基础数据结构01：链表</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>&emsp;&emsp;链表的类似于一个连着一个的圆环。在链表中，要想访问某个节点，必须通过他的上一节点来访问。</p>
<h2 id="Java实现"><a href="#Java实现" class="headerlink" title="Java实现"></a>Java实现</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.algs.base;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.NoSuchElementException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Link</span>&lt;<span class="title">Item</span>&gt; <span class="keyword">implements</span> <span class="title">Iterable</span>&lt;<span class="title">Item</span>&gt; </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> Node first = <span class="keyword">null</span>;  <span class="comment">// 链表的第一个元素</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> n = <span class="number">0</span>;			<span class="comment">// 链表的长度</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span></span>&#123;</span><br><span class="line">		<span class="keyword">private</span> Item item;		<span class="comment">// 链表节点的值</span></span><br><span class="line">		<span class="keyword">private</span> Node next;		<span class="comment">// 指向下一节点</span></span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span></span>&#123;</span><br><span class="line">			<span class="keyword">return</span> (String) <span class="keyword">this</span>.item;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 向链表中添加数据</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(Item item)</span></span>&#123;</span><br><span class="line">		Node oldFirst = first;</span><br><span class="line">		first = <span class="keyword">new</span> Node();</span><br><span class="line">		first.item = item;</span><br><span class="line">		first.next = oldFirst;</span><br><span class="line">		n++;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 翻转链表</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">reverse</span><span class="params">()</span></span>&#123;</span><br><span class="line">		Node next = first.next;</span><br><span class="line">		first.next = <span class="keyword">null</span>;				<span class="comment">// 避免遍历时死循环</span></span><br><span class="line">		<span class="keyword">while</span>(next!=<span class="keyword">null</span>)&#123;</span><br><span class="line">			Node temp = next.next;</span><br><span class="line">			next.next = first;</span><br><span class="line">			first = next;</span><br><span class="line">			next = temp;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">return</span> n;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> Iterator&lt;Item&gt; <span class="title">iterator</span><span class="params">()</span>  </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ListIterator();  </span><br><span class="line">    &#125;</span><br><span class="line">	<span class="comment">//链表遍历实现</span></span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">ListIterator</span> <span class="keyword">implements</span> <span class="title">Iterator</span>&lt;<span class="title">Item</span>&gt; </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> Node current = first;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span>  </span>&#123; <span class="keyword">return</span> current != <span class="keyword">null</span>;                     &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">remove</span><span class="params">()</span>      </span>&#123; <span class="keyword">throw</span> <span class="keyword">new</span> UnsupportedOperationException();  &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> Item <span class="title">next</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (!hasNext()) <span class="keyword">throw</span> <span class="keyword">new</span> NoSuchElementException();</span><br><span class="line">            Item item = current.item;</span><br><span class="line">            current = current.next;</span><br><span class="line">            <span class="keyword">return</span> item;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Link&lt;String&gt; link = <span class="keyword">new</span> Link&lt;String&gt;();</span><br><span class="line">		link.add(<span class="string">&quot;one&quot;</span>);</span><br><span class="line">		link.add(<span class="string">&quot;two&quot;</span>);</span><br><span class="line">		link.add(<span class="string">&quot;three&quot;</span>);</span><br><span class="line">		<span class="keyword">for</span>(String node:link)&#123;</span><br><span class="line">			<span class="comment">//打印结果为three-&gt;two-&gt;one-&gt;</span></span><br><span class="line">			System.out.print(node+<span class="string">&quot;-&gt;&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//翻转链表</span></span><br><span class="line">		System.out.println(<span class="string">&quot;&quot;</span>);</span><br><span class="line">		link.reverse();</span><br><span class="line">		<span class="keyword">for</span>(String node:link)&#123;</span><br><span class="line">			<span class="comment">//打印结果为one-&gt;two-&gt;three-&gt;</span></span><br><span class="line">			System.out.print(node+<span class="string">&quot;-&gt;&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>GitHub：<a target="_blank" rel="noopener" href="https://github.com/AlbertKnag/algs-practice">https://github.com/AlbertKnag/algs-practice</a></p>
<p>下一篇：<a href="http://muchstudy.com/2017/06/30/%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%8402%EF%BC%9A%E9%98%9F%E5%88%97/">基础数据结构02：队列</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://muchstudy.com/2017/06/26/%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%8401%EF%BC%9A%E9%93%BE%E8%A1%A8/" data-id="cm5tqeevd0065wayp016h0osw" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Eclipse下忽略掉node-modules目录相关配置" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/06/05/Eclipse%E4%B8%8B%E5%BF%BD%E7%95%A5%E6%8E%89node-modules%E7%9B%AE%E5%BD%95%E7%9B%B8%E5%85%B3%E9%85%8D%E7%BD%AE/" class="article-date">
  <time datetime="2017-06-05T14:59:41.000Z" itemprop="datePublished">2017-06-05</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Java/">Java</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/06/05/Eclipse%E4%B8%8B%E5%BF%BD%E7%95%A5%E6%8E%89node-modules%E7%9B%AE%E5%BD%95%E7%9B%B8%E5%85%B3%E9%85%8D%E7%BD%AE/">Eclipse下忽略掉node_modules目录相关配置</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="1-背景"><a href="#1-背景" class="headerlink" title="1.背景"></a>1.背景</h2><p>&emsp;&emsp;Eclipse项目中的静态资源采用webpack来打包，在项目中的webapp目录下会生成node_modules目录，里面包含node相关模块。由于资源文件较多，会造成Eclipse编译缓慢，另外这些文件不需要发不到运行服务器上，且不需要做版本控制。</p>
<h2 id="2-相关配置"><a href="#2-相关配置" class="headerlink" title="2.相关配置"></a>2.相关配置</h2><h3 id="2-1-编译Eclipse项目时忽略掉node-modules目录"><a href="#2-1-编译Eclipse项目时忽略掉node-modules目录" class="headerlink" title="2.1 编译Eclipse项目时忽略掉node_modules目录"></a>2.1 编译Eclipse项目时忽略掉node_modules目录</h3><p>&emsp;&emsp;选中项目右键-properties,如下图所示</p>
<img src="/2017/06/05/Eclipse%E4%B8%8B%E5%BF%BD%E7%95%A5%E6%8E%89node-modules%E7%9B%AE%E5%BD%95%E7%9B%B8%E5%85%B3%E9%85%8D%E7%BD%AE/1.png" class="">

<h3 id="2-2-SVN版本管理时忽略掉node-modules目录"><a href="#2-2-SVN版本管理时忽略掉node-modules目录" class="headerlink" title="2.2 SVN版本管理时忽略掉node_modules目录"></a>2.2 SVN版本管理时忽略掉node_modules目录</h3><p>&emsp;&emsp;当使用Eclipse中的SVN来来就行版本控制时，选择node_modules目录后，发现<code>添加至svn:ignore</code>为灰色，不可用，无法忽略相关文件。可以通过如下配置来解决该问题。</p>
<img src="/2017/06/05/Eclipse%E4%B8%8B%E5%BF%BD%E7%95%A5%E6%8E%89node-modules%E7%9B%AE%E5%BD%95%E7%9B%B8%E5%85%B3%E9%85%8D%E7%BD%AE/2.png" class="">

<h3 id="2-3-项目打包发布时去掉node-modules目录"><a href="#2-3-项目打包发布时去掉node-modules目录" class="headerlink" title="2.3 项目打包发布时去掉node_modules目录"></a>2.3 项目打包发布时去掉node_modules目录</h3><p>&emsp;&emsp;在项目的maven pom.xml中build下的配置如下</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-war-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">version</span>&gt;</span>2.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">packagingExcludes</span>&gt;</span></span><br><span class="line">			node_modules/**</span><br><span class="line">		<span class="tag">&lt;/<span class="name">packagingExcludes</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://muchstudy.com/2017/06/05/Eclipse%E4%B8%8B%E5%BF%BD%E7%95%A5%E6%8E%89node-modules%E7%9B%AE%E5%BD%95%E7%9B%B8%E5%85%B3%E9%85%8D%E7%BD%AE/" data-id="cm5tqeevc0063wayp1rp4570r" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-MySQL两表关联的连接表该如何创建索引？" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/05/15/MySQL%E4%B8%A4%E8%A1%A8%E5%85%B3%E8%81%94%E7%9A%84%E8%BF%9E%E6%8E%A5%E8%A1%A8%E8%AF%A5%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95%EF%BC%9F/" class="article-date">
  <time datetime="2017-05-15T14:38:22.000Z" itemprop="datePublished">2017-05-15</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/DBMS/">DBMS</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/05/15/MySQL%E4%B8%A4%E8%A1%A8%E5%85%B3%E8%81%94%E7%9A%84%E8%BF%9E%E6%8E%A5%E8%A1%A8%E8%AF%A5%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95%EF%BC%9F/">MySQL两表关联的连接表该如何创建索引？</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="问题介绍"><a href="#问题介绍" class="headerlink" title="问题介绍"></a>问题介绍</h2><p>&emsp;&emsp;创建数据库的索引，可以选择单列索引，也可以选择创建组合索引。</p>
<p>&emsp;&emsp;遇到如下这种情况，用户表（user）与部门表（dept）通过部门用户关联表（deptuser）连接起来，如下图所示：</p>
<img src="/2017/05/15/MySQL%E4%B8%A4%E8%A1%A8%E5%85%B3%E8%81%94%E7%9A%84%E8%BF%9E%E6%8E%A5%E8%A1%A8%E8%AF%A5%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95%EF%BC%9F/reference.jpg" class="" title="表间关系">

<p>&emsp;&emsp;问题就是，在这个关联表中该如何建立索引呢？</p>
<p><strong>针对该表，有如下四种选择:</strong></p>
<ol>
<li>针对于user_uuid建立单列索引idx_user</li>
<li>针对于user_dept建立单列索引idx_dept</li>
<li>建立组合索引idx_user_dept,即（user_uuid,dept_uuid）</li>
<li>建立组合索引idx_dept_user,即（dept_uuid,user_uuid）</li>
</ol>
<p><strong>对关联表的查询，有如下四种情况：</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 一、人员查所属部门用and方式</span></span><br><span class="line">EXPLAIN <span class="keyword">SELECT</span> d.dept_name,u.<span class="operator">*</span> <span class="keyword">FROM</span> org_dept d,org_user u,org_dept_user duser <span class="keyword">WHERE</span> u.user_uuid<span class="operator">=</span>duser.user_uuid <span class="keyword">AND</span> d.dept_uuid<span class="operator">=</span>duser.dept_uuid  <span class="keyword">AND</span> u.user_code<span class="operator">=</span>&quot;dev1&quot;;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 二、人员查所属部门用join方式</span></span><br><span class="line">EXPLAIN <span class="keyword">SELECT</span> d.dept_name,u.<span class="operator">*</span> <span class="keyword">FROM</span> org_user u <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> org_dept_user du <span class="keyword">ON</span> u.user_uuid<span class="operator">=</span>du.user_uuid <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> org_dept d <span class="keyword">ON</span> du.dept_uuid<span class="operator">=</span>d.dept_uuid <span class="keyword">WHERE</span> u.user_code<span class="operator">=</span>&quot;dev1&quot;;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 三、部门查人员用and方式</span></span><br><span class="line">EXPLAIN <span class="keyword">SELECT</span> d.dept_name,u.<span class="operator">*</span> <span class="keyword">FROM</span> org_dept d,org_user u,org_dept_user du <span class="keyword">WHERE</span> u.user_uuid<span class="operator">=</span>du.user_uuid <span class="keyword">AND</span> d.dept_uuid<span class="operator">=</span>du.dept_uuid <span class="keyword">AND</span> d.dept_code<span class="operator">=</span>&quot;D006&quot;;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 四、部门查所属人员用join方式</span></span><br><span class="line">EXPLAIN <span class="keyword">SELECT</span> d.dept_name,u.<span class="operator">*</span> <span class="keyword">FROM</span> org_dept d <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> org_dept_user du <span class="keyword">ON</span> d.dept_uuid<span class="operator">=</span>du.dept_uuid <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> org_user u <span class="keyword">ON</span> u.user_uuid<span class="operator">=</span>du.user_uuid <span class="keyword">WHERE</span> d.dept_code<span class="operator">=</span>&quot;D006&quot;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="测试验证"><a href="#测试验证" class="headerlink" title="测试验证"></a>测试验证</h2><h3 id="一-人员查所属部门用and方式"><a href="#一-人员查所属部门用and方式" class="headerlink" title="一.人员查所属部门用and方式"></a>一.人员查所属部门用and方式</h3><h4 id="1-1-关联表无索引"><a href="#1-1-关联表无索引" class="headerlink" title="1.1 关联表无索引"></a>1.1 关联表无索引</h4><img src="/2017/05/15/MySQL%E4%B8%A4%E8%A1%A8%E5%85%B3%E8%81%94%E7%9A%84%E8%BF%9E%E6%8E%A5%E8%A1%A8%E8%AF%A5%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95%EF%BC%9F/1-1.png" class="">
<h4 id="1-2-单索引-Idx-dept"><a href="#1-2-单索引-Idx-dept" class="headerlink" title="1.2 单索引 Idx_dept"></a>1.2 单索引 Idx_dept</h4><img src="/2017/05/15/MySQL%E4%B8%A4%E8%A1%A8%E5%85%B3%E8%81%94%E7%9A%84%E8%BF%9E%E6%8E%A5%E8%A1%A8%E8%AF%A5%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95%EF%BC%9F/1-2.png" class="">
<h4 id="1-3-单索引-Idx-user"><a href="#1-3-单索引-Idx-user" class="headerlink" title="1.3 单索引 Idx_user"></a>1.3 单索引 Idx_user</h4><img src="/2017/05/15/MySQL%E4%B8%A4%E8%A1%A8%E5%85%B3%E8%81%94%E7%9A%84%E8%BF%9E%E6%8E%A5%E8%A1%A8%E8%AF%A5%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95%EF%BC%9F/1-3.png" class="">
<h4 id="1-4-组合索引-Idx-dept-user"><a href="#1-4-组合索引-Idx-dept-user" class="headerlink" title="1.4 组合索引 Idx_dept_user"></a>1.4 组合索引 Idx_dept_user</h4><img src="/2017/05/15/MySQL%E4%B8%A4%E8%A1%A8%E5%85%B3%E8%81%94%E7%9A%84%E8%BF%9E%E6%8E%A5%E8%A1%A8%E8%AF%A5%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95%EF%BC%9F/1-4.png" class="">
<h4 id="1-5-组合索引-Idx-user-dept"><a href="#1-5-组合索引-Idx-user-dept" class="headerlink" title="1.5 组合索引 Idx_user_dept"></a>1.5 组合索引 Idx_user_dept</h4><img src="/2017/05/15/MySQL%E4%B8%A4%E8%A1%A8%E5%85%B3%E8%81%94%E7%9A%84%E8%BF%9E%E6%8E%A5%E8%A1%A8%E8%AF%A5%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95%EF%BC%9F/1-5.png" class="">
<h4 id="1-6-所有都建立上"><a href="#1-6-所有都建立上" class="headerlink" title="1.6 所有都建立上"></a>1.6 所有都建立上</h4><img src="/2017/05/15/MySQL%E4%B8%A4%E8%A1%A8%E5%85%B3%E8%81%94%E7%9A%84%E8%BF%9E%E6%8E%A5%E8%A1%A8%E8%AF%A5%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95%EF%BC%9F/1-6.png" class="">

<h3 id="二-、人员查所属部门用join方式"><a href="#二-、人员查所属部门用join方式" class="headerlink" title="二 、人员查所属部门用join方式"></a>二 、人员查所属部门用join方式</h3><h4 id="2-1-关联表无索引"><a href="#2-1-关联表无索引" class="headerlink" title="2.1 关联表无索引"></a>2.1 关联表无索引</h4><img src="/2017/05/15/MySQL%E4%B8%A4%E8%A1%A8%E5%85%B3%E8%81%94%E7%9A%84%E8%BF%9E%E6%8E%A5%E8%A1%A8%E8%AF%A5%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95%EF%BC%9F/2-1.png" class="">
<h4 id="2-2-单索引-Idx-dept"><a href="#2-2-单索引-Idx-dept" class="headerlink" title="2.2 单索引 Idx_dept"></a>2.2 单索引 Idx_dept</h4><img src="/2017/05/15/MySQL%E4%B8%A4%E8%A1%A8%E5%85%B3%E8%81%94%E7%9A%84%E8%BF%9E%E6%8E%A5%E8%A1%A8%E8%AF%A5%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95%EF%BC%9F/2-2.png" class="">
<h4 id="2-3-单索引-Idx-user"><a href="#2-3-单索引-Idx-user" class="headerlink" title="2.3 单索引 Idx_user"></a>2.3 单索引 Idx_user</h4><img src="/2017/05/15/MySQL%E4%B8%A4%E8%A1%A8%E5%85%B3%E8%81%94%E7%9A%84%E8%BF%9E%E6%8E%A5%E8%A1%A8%E8%AF%A5%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95%EF%BC%9F/2-3.png" class="">
<h4 id="2-4-组合索引-Idx-dept-user"><a href="#2-4-组合索引-Idx-dept-user" class="headerlink" title="2.4 组合索引 Idx_dept_user"></a>2.4 组合索引 Idx_dept_user</h4><img src="/2017/05/15/MySQL%E4%B8%A4%E8%A1%A8%E5%85%B3%E8%81%94%E7%9A%84%E8%BF%9E%E6%8E%A5%E8%A1%A8%E8%AF%A5%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95%EF%BC%9F/2-4.png" class="">
<h4 id="2-5-组合索引-Idx-user-dept"><a href="#2-5-组合索引-Idx-user-dept" class="headerlink" title="2.5 组合索引 Idx_user_dept"></a>2.5 组合索引 Idx_user_dept</h4><img src="/2017/05/15/MySQL%E4%B8%A4%E8%A1%A8%E5%85%B3%E8%81%94%E7%9A%84%E8%BF%9E%E6%8E%A5%E8%A1%A8%E8%AF%A5%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95%EF%BC%9F/2-5.png" class="">
<h4 id="2-6-所有都建立上"><a href="#2-6-所有都建立上" class="headerlink" title="2.6 所有都建立上"></a>2.6 所有都建立上</h4><img src="/2017/05/15/MySQL%E4%B8%A4%E8%A1%A8%E5%85%B3%E8%81%94%E7%9A%84%E8%BF%9E%E6%8E%A5%E8%A1%A8%E8%AF%A5%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95%EF%BC%9F/2-6.png" class="">

<h3 id="三-、部门查人员用and方式"><a href="#三-、部门查人员用and方式" class="headerlink" title="三 、部门查人员用and方式"></a>三 、部门查人员用and方式</h3><h4 id="3-1-关联表无索引"><a href="#3-1-关联表无索引" class="headerlink" title="3.1 关联表无索引"></a>3.1 关联表无索引</h4><img src="/2017/05/15/MySQL%E4%B8%A4%E8%A1%A8%E5%85%B3%E8%81%94%E7%9A%84%E8%BF%9E%E6%8E%A5%E8%A1%A8%E8%AF%A5%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95%EF%BC%9F/3-1.png" class="">
<h4 id="3-2-单索引-Idx-dept"><a href="#3-2-单索引-Idx-dept" class="headerlink" title="3.2 单索引 Idx_dept"></a>3.2 单索引 Idx_dept</h4><img src="/2017/05/15/MySQL%E4%B8%A4%E8%A1%A8%E5%85%B3%E8%81%94%E7%9A%84%E8%BF%9E%E6%8E%A5%E8%A1%A8%E8%AF%A5%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95%EF%BC%9F/3-2.png" class="">
<h4 id="3-3-单索引-Idx-user"><a href="#3-3-单索引-Idx-user" class="headerlink" title="3.3 单索引 Idx_user"></a>3.3 单索引 Idx_user</h4><img src="/2017/05/15/MySQL%E4%B8%A4%E8%A1%A8%E5%85%B3%E8%81%94%E7%9A%84%E8%BF%9E%E6%8E%A5%E8%A1%A8%E8%AF%A5%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95%EF%BC%9F/3-3.png" class="">
<h4 id="3-4-组合索引-Idx-dept-user"><a href="#3-4-组合索引-Idx-dept-user" class="headerlink" title="3.4 组合索引 Idx_dept_user"></a>3.4 组合索引 Idx_dept_user</h4><img src="/2017/05/15/MySQL%E4%B8%A4%E8%A1%A8%E5%85%B3%E8%81%94%E7%9A%84%E8%BF%9E%E6%8E%A5%E8%A1%A8%E8%AF%A5%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95%EF%BC%9F/3-4.png" class="">
<h4 id="3-5-组合索引-Idx-user-dept"><a href="#3-5-组合索引-Idx-user-dept" class="headerlink" title="3.5 组合索引 Idx_user_dept"></a>3.5 组合索引 Idx_user_dept</h4><img src="/2017/05/15/MySQL%E4%B8%A4%E8%A1%A8%E5%85%B3%E8%81%94%E7%9A%84%E8%BF%9E%E6%8E%A5%E8%A1%A8%E8%AF%A5%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95%EF%BC%9F/3-5.png" class="">
<h4 id="3-6-所有都建立上"><a href="#3-6-所有都建立上" class="headerlink" title="3.6 所有都建立上"></a>3.6 所有都建立上</h4><img src="/2017/05/15/MySQL%E4%B8%A4%E8%A1%A8%E5%85%B3%E8%81%94%E7%9A%84%E8%BF%9E%E6%8E%A5%E8%A1%A8%E8%AF%A5%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95%EF%BC%9F/3-6.png" class="">

<h3 id="四-、部门查所属人员用join方式"><a href="#四-、部门查所属人员用join方式" class="headerlink" title="四 、部门查所属人员用join方式"></a>四 、部门查所属人员用join方式</h3><h4 id="4-1-关联表无索引"><a href="#4-1-关联表无索引" class="headerlink" title="4.1 关联表无索引"></a>4.1 关联表无索引</h4><img src="/2017/05/15/MySQL%E4%B8%A4%E8%A1%A8%E5%85%B3%E8%81%94%E7%9A%84%E8%BF%9E%E6%8E%A5%E8%A1%A8%E8%AF%A5%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95%EF%BC%9F/4-1.png" class="">
<h4 id="4-2-单索引-Idx-dept"><a href="#4-2-单索引-Idx-dept" class="headerlink" title="4.2 单索引 Idx_dept"></a>4.2 单索引 Idx_dept</h4><img src="/2017/05/15/MySQL%E4%B8%A4%E8%A1%A8%E5%85%B3%E8%81%94%E7%9A%84%E8%BF%9E%E6%8E%A5%E8%A1%A8%E8%AF%A5%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95%EF%BC%9F/4-2.png" class="">
<h4 id="4-3-单索引-Idx-user"><a href="#4-3-单索引-Idx-user" class="headerlink" title="4.3 单索引 Idx_user"></a>4.3 单索引 Idx_user</h4><img src="/2017/05/15/MySQL%E4%B8%A4%E8%A1%A8%E5%85%B3%E8%81%94%E7%9A%84%E8%BF%9E%E6%8E%A5%E8%A1%A8%E8%AF%A5%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95%EF%BC%9F/4-3.png" class="">
<h4 id="4-4-组合索引-Idx-dept-user"><a href="#4-4-组合索引-Idx-dept-user" class="headerlink" title="4.4 组合索引 Idx_dept_user"></a>4.4 组合索引 Idx_dept_user</h4><img src="/2017/05/15/MySQL%E4%B8%A4%E8%A1%A8%E5%85%B3%E8%81%94%E7%9A%84%E8%BF%9E%E6%8E%A5%E8%A1%A8%E8%AF%A5%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95%EF%BC%9F/4-4.png" class="">
<h4 id="4-5-组合索引-Idx-user-dept"><a href="#4-5-组合索引-Idx-user-dept" class="headerlink" title="4.5 组合索引 Idx_user_dept"></a>4.5 组合索引 Idx_user_dept</h4><img src="/2017/05/15/MySQL%E4%B8%A4%E8%A1%A8%E5%85%B3%E8%81%94%E7%9A%84%E8%BF%9E%E6%8E%A5%E8%A1%A8%E8%AF%A5%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95%EF%BC%9F/4-5.png" class="">
<h4 id="4-6-所有都建立上"><a href="#4-6-所有都建立上" class="headerlink" title="4.6 所有都建立上"></a>4.6 所有都建立上</h4><img src="/2017/05/15/MySQL%E4%B8%A4%E8%A1%A8%E5%85%B3%E8%81%94%E7%9A%84%E8%BF%9E%E6%8E%A5%E8%A1%A8%E8%AF%A5%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95%EF%BC%9F/4-6.png" class="">


<h2 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h2><p>&emsp;&emsp;通过上面的实际测试结果可以得出如下结论：<strong>针对于该关联表分别针对于user_uuid与dept_uuid建立单列索引idx_user,idx_dept最优。</strong></p>
<p>&emsp;&emsp;其中索引idx_user适用与通过人员ID查询出该人员所在的部门；索引idx_dept适用与通过部门查询出该部门下所属的人员。</p>
<h2 id="其它"><a href="#其它" class="headerlink" title="其它"></a>其它</h2><h3 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h3><a href="/2017/05/15/MySQL%E4%B8%A4%E8%A1%A8%E5%85%B3%E8%81%94%E7%9A%84%E8%BF%9E%E6%8E%A5%E8%A1%A8%E8%AF%A5%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95%EF%BC%9F/Test.sql" title="Test.sql">Test.sql</a>

<h3 id="相关资料"><a href="#相关资料" class="headerlink" title="相关资料"></a>相关资料</h3><ul>
<li><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000003072424">MYSQL-索引</a></li>
<li><a target="_blank" rel="noopener" href="http://tech.meituan.com/mysql-index.html">MySQL索引原理及慢查询优化</a></li>
</ul>
<div style="width:70%;margin:auto">
<img src='http://muchstudy.com/2020/04/04/聊聊一线开发的基本素养/公众号二维码.gif'>
</div>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://muchstudy.com/2017/05/15/MySQL%E4%B8%A4%E8%A1%A8%E5%85%B3%E8%81%94%E7%9A%84%E8%BF%9E%E6%8E%A5%E8%A1%A8%E8%AF%A5%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95%EF%BC%9F/" data-id="cm5tqeevc0061waypbidda19k" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-排序算法09：总结" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/05/04/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%9509%EF%BC%9A%E6%80%BB%E7%BB%93/" class="article-date">
  <time datetime="2017-05-04T14:27:40.000Z" itemprop="datePublished">2017-05-04</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/05/04/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%9509%EF%BC%9A%E6%80%BB%E7%BB%93/">排序算法09：总结</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>&emsp;&emsp;在这篇之前，对常见的8中排序算法进行了梳理，《算法》第四版中的这一张图对各种排序算法的性能特点做了总结。</p>
<img src="/2017/05/04/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%9509%EF%BC%9A%E6%80%BB%E7%BB%93/%E5%90%84%E7%A7%8D%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E7%9A%84%E6%80%A7%E8%83%BD%E7%89%B9%E7%82%B9.jpg" class="" title="各种排序算法的性能特点">

<p>&emsp;&emsp;补充冒泡排序：稳定、原地排序、时间复杂度为n²，空间复杂度为1。</p>
<p><strong>其它：</strong></p>
<ol>
<li>快速排序是最快的通用排序算法。</li>
<li>存在大量重复元素情况下，三向快速排序是不错的选择。</li>
<li>如果稳定性很重要而空间又不是问题，归并排序是最好的选择。</li>
<li>稳定性：如果一个排序算法能够保留数组中重复元素的相对位置则可以被称为是稳定的。</li>
<li>关于时间复杂度与空间复杂度中1、N、logN、N、NlogN、N²的含义可参见<a href="http://muchstudy.com/2017/02/26/%E7%AE%97%E6%B3%95%E7%9A%84%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/">此文</a>。</li>
</ol>
<p>GitHub：<a target="_blank" rel="noopener" href="https://github.com/AlbertKnag/algs-practice">https://github.com/AlbertKnag/algs-practice</a><br>（包含Java版与Javascript版所有排序算法样例代码）</p>
<p>上一篇：<a href="http://muchstudy.com/2017/05/01/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%9508%EF%BC%9A%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97%E4%B8%8E%E5%A0%86%E6%8E%92%E5%BA%8F/">排序算法08：优先队列与堆排序</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://muchstudy.com/2017/05/04/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%9509%EF%BC%9A%E6%80%BB%E7%BB%93/" data-id="cm5tqeevb005zwayp8q7hdjs5" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-排序算法08：优先队列与堆排序" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/05/01/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%9508%EF%BC%9A%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97%E4%B8%8E%E5%A0%86%E6%8E%92%E5%BA%8F/" class="article-date">
  <time datetime="2017-05-01T15:20:45.000Z" itemprop="datePublished">2017-05-01</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/05/01/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%9508%EF%BC%9A%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97%E4%B8%8E%E5%A0%86%E6%8E%92%E5%BA%8F/">排序算法08：优先队列与堆排序</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>&emsp;&emsp;堆排序一种是基于二叉堆的排序。本文将从优先队列讲起，循序渐进的实现堆排序。这也是《算法》第四版上讲解堆排序的大致章节结构。另外，本文所有的图都来自于此书。</p>
<h2 id="优先队列"><a href="#优先队列" class="headerlink" title="优先队列"></a>优先队列</h2><p>&emsp;&emsp;<strong>普通队列</strong>是一种先进先出的数据结构，先放进队列的元素取值时优先被取出来。而<strong>优先队列</strong>是一种具有最高优先级元素先出的数据结构，比如每次取值都取最大的元素。</p>
<p>&emsp;&emsp;优先队列有两个核心方法，一个是<code>insert(val)</code>向队列中添加元素，另外一个是<code>delMax()</code>删除最大元素（优先级最高的）并返回。可以考虑使用数组来存储优先队列的数据。</p>
<p><strong>优先队列有如下三种实现方式：</strong></p>
<ol>
<li>有序数组(调用insert方法时使用类似插入排序把新增元素放到正确位置，调用delMax方法时直接取数组最后一个元素，因为此时元素已经是有序状态)</li>
<li>无序数组（调用insert方法时直接把元素放到数组中，调用dexMax方法时使用类似选择排序的方法从数组中找出最大元素，删除并返回）</li>
<li>堆</li>
</ol>
<img src="/2017/05/01/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%9508%EF%BC%9A%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97%E4%B8%8E%E5%A0%86%E6%8E%92%E5%BA%8F/%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%AF%B9%E6%AF%94%E4%B8%8E%E6%BC%94%E7%A4%BA.jpg" class="" title="优先队列时间复杂度对比与演示">


<h2 id="堆的算法"><a href="#堆的算法" class="headerlink" title="堆的算法"></a>堆的算法</h2><p>&emsp;&emsp;优先队列可以使用一棵堆有序的二叉树来解决。什么叫做堆有序呢？<strong>当一棵二叉树的每个几点都大于它的两个子节点时，它被称为堆有序。</strong>那么，根节点就是堆有序的二叉树中的最大节点。</p>
<p>&emsp;&emsp;二叉堆可以使用数组来存储。为了方便起见，根节点放在位置1处（<strong>位置0不使用</strong>），它的两个子节点分别放在位置2和位置3。同理可知，在一个堆中，位置k的节点的父节点的位置为k/2，而它的两个子节点的位置则分别为2k和2k+1.我们就可以这样在树的上下移动：访问a[k]节点的上一层就令k等于k/2，向下一层就令k等于2k或2k+1.</p>
<p><strong>如下图所示：</strong></p>
<img src="/2017/05/01/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%9508%EF%BC%9A%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97%E4%B8%8E%E5%A0%86%E6%8E%92%E5%BA%8F/%E5%A0%86%E7%9A%84%E8%A1%A8%E7%A4%BA.jpg" class="" title="堆的表示">

<p>&emsp;&emsp;使用二叉堆，我们就能实现对数级别的插入元素和删除最大元素。</p>
<h3 id="由下自上的堆有序化（上浮）"><a href="#由下自上的堆有序化（上浮）" class="headerlink" title="由下自上的堆有序化（上浮）"></a>由下自上的堆有序化（上浮）</h3><p>&emsp;&emsp;当调用优先队列的<code>insert</code>方法时，我们首先把元素放置到数组的结尾，然后再把该元素上浮到正确的节点，最终形成堆有序状态。</p>
<p><strong>代码如下：</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//下标为k的元素上浮到正确位置</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">swim</span>(<span class="params">arr,k</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(k&gt;<span class="number">1</span> &amp;&amp; less(arr,<span class="built_in">parseInt</span>(k/<span class="number">2</span>),k))&#123;</span><br><span class="line">        <span class="comment">//父节点索引</span></span><br><span class="line">        <span class="keyword">var</span> parentNode = <span class="built_in">parseInt</span>(k/<span class="number">2</span>);</span><br><span class="line">        exch(arr,parentNode,k);</span><br><span class="line">        k = parentNode;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="由上至下的堆有序化（下沉）"><a href="#由上至下的堆有序化（下沉）" class="headerlink" title="由上至下的堆有序化（下沉）"></a>由上至下的堆有序化（下沉）</h3><p>&emsp;&emsp;当调用优先队列的<code>delMax</code>方法时，我们下标为1的元素（最大元素）和数组最后一个元素交换，返回最大元素，数组长度减去1，即删除最后一个元素。此时的位置1元素不一定是最大元素，就需要下沉到正确位置，重新构造有序堆。</p>
<p><strong>代码如下：</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//下标为k的元素下沉到正确位置</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sink</span>(<span class="params">arr,k,len</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> len = len ||arr.length;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">2</span>*k &lt;= len)&#123;</span><br><span class="line">        <span class="keyword">var</span> j = <span class="number">2</span>*k;</span><br><span class="line">        <span class="keyword">if</span>(j&lt;len &amp;&amp; less(arr,j,j+<span class="number">1</span>)) j++;</span><br><span class="line">        <span class="keyword">if</span>(!less(arr,k,j)) <span class="keyword">break</span>;</span><br><span class="line">        exch(arr,k,j);</span><br><span class="line">        k = j;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p><strong>堆有序化示例图：</strong></p>
<img src="/2017/05/01/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%9508%EF%BC%9A%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97%E4%B8%8E%E5%A0%86%E6%8E%92%E5%BA%8F/%E5%A0%86%E6%9C%89%E5%BA%8F%E5%8C%96.jpg" class="" title="堆有序化">

<p><strong>堆的操作示例图：</strong></p>
<img src="/2017/05/01/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%9508%EF%BC%9A%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97%E4%B8%8E%E5%A0%86%E6%8E%92%E5%BA%8F/%E5%A0%86%E7%9A%84%E6%93%8D%E4%BD%9C.jpg" class="" title="堆的操作">


<h2 id="优先队列实现"><a href="#优先队列实现" class="headerlink" title="优先队列实现"></a>优先队列实现</h2><p>&emsp;&emsp;理解了实现堆有序的上浮和下沉两种方法，优先队列的实现就轻而易举了，代码如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 优先队列</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@constructor</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">MaxQueue</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.queue = [];                <span class="comment">//- 存储基于堆的完全二叉树</span></span><br><span class="line">    <span class="built_in">this</span>.len   = <span class="number">0</span>;                 <span class="comment">//- 存储于queue[1..len]中，queue[0]未使用</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 向优先队列中插入元素</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="variable">val</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">MaxQueue.prototype.insert = <span class="function"><span class="keyword">function</span> (<span class="params">val</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.queue[++<span class="built_in">this</span>.len] = val;    <span class="comment">//- 从索引1开始添加元素</span></span><br><span class="line">    <span class="comment">//使新增元素上浮到树的正确位置</span></span><br><span class="line">    swim(<span class="built_in">this</span>.queue,<span class="built_in">this</span>.len);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 删除优先队列中的最大元素，并返回该元素</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns <span class="type">&#123;*&#125;</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">MaxQueue.prototype.delMax = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> max = <span class="built_in">this</span>.queue[<span class="number">1</span>];        <span class="comment">//- 从根节点得到最大元素</span></span><br><span class="line">    exch(<span class="built_in">this</span>.queue,<span class="number">1</span>,<span class="built_in">this</span>.len--);  <span class="comment">//- 把最后一个节点放到根节点上，并且让长度索引减一</span></span><br><span class="line">    <span class="built_in">this</span>.queue.length = <span class="built_in">this</span>.len+<span class="number">1</span>; <span class="comment">//- 删除最后一个节点</span></span><br><span class="line">    sink(<span class="built_in">this</span>.queue,<span class="number">1</span>);             <span class="comment">//- 下沉根节点，恢复堆的有序性</span></span><br><span class="line">    <span class="keyword">return</span> max;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">MaxQueue.prototype.show = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.queue);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">MaxQueue.prototype.isEmpty = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.len==<span class="number">0</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><strong>示例图：</strong></p>
<img src="/2017/05/01/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%9508%EF%BC%9A%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97%E4%B8%8E%E5%A0%86%E6%8E%92%E5%BA%8F/%E5%A0%86%E4%B8%8A%E7%9A%84%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97%E6%93%8D%E4%BD%9C.jpg" class="" title="堆上的优先队列操作">


<h2 id="堆排序"><a href="#堆排序" class="headerlink" title="堆排序"></a>堆排序</h2><p>&emsp;&emsp;理解了优先队列，堆排序的逻辑十分简单。第一步：让数组形成堆有序状态；第二步：把堆顶的元素放到数组最末尾，末尾的放到堆顶，在剩下的元素中下沉到正确位置，重复操作即可。</p>
<p><strong>代码如下：</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 堆排序算法</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@constructor</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">HeapSort</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">HeapSort.prototype.sort = <span class="function"><span class="keyword">function</span> (<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> len = arr.length;</span><br><span class="line">    <span class="comment">//由于arr[0]不使用，放到最后使得能够被排序</span></span><br><span class="line">    <span class="comment">//注意：也可在less和exch中解决，见后面的Java完整代码实现。这里为了对应位置1的元素不使用，方便对照看代码与样例图。</span></span><br><span class="line">    arr[len] = arr[<span class="number">0</span>];</span><br><span class="line">    <span class="comment">//使用下沉来构造二叉堆</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> k=<span class="built_in">parseInt</span>(len/<span class="number">2</span>);k&gt;=<span class="number">1</span>;k--)&#123;</span><br><span class="line">        sink(arr,k,len);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//不断把最大的arr[1]交换到最后，然后让新的arr[1]元素下沉到堆有序状态</span></span><br><span class="line">    <span class="keyword">while</span> (len&gt;<span class="number">1</span>)&#123;</span><br><span class="line">        exch(arr,<span class="number">1</span>,len--);</span><br><span class="line">        sink(arr,<span class="number">1</span>,len);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//删除未使用的arr[0]（也可在less和exch中解决，见Java代码实现）</span></span><br><span class="line">    arr.splice(<span class="number">0</span>,<span class="number">1</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><strong>示例图：</strong></p>
<img src="/2017/05/01/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%9508%EF%BC%9A%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97%E4%B8%8E%E5%A0%86%E6%8E%92%E5%BA%8F/%E5%A0%86%E6%8E%92%E5%BA%8F.jpg" class="" title="堆排序">


<h2 id="完整代码"><a href="#完整代码" class="headerlink" title="完整代码"></a>完整代码</h2><h3 id="Javascript实现"><a href="#Javascript实现" class="headerlink" title="Javascript实现"></a>Javascript实现</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by YiYing on 2017/5/2.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">W</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 优先队列</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@constructor</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">MaxQueue</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.queue = [];                <span class="comment">//- 存储基于堆的完全二叉树</span></span><br><span class="line">        <span class="built_in">this</span>.len   = <span class="number">0</span>;                 <span class="comment">//- 存储于queue[1..len]中，queue[0]未使用</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 向优先队列中插入元素</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param <span class="variable">val</span></span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    MaxQueue.prototype.insert = <span class="function"><span class="keyword">function</span> (<span class="params">val</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.queue[++<span class="built_in">this</span>.len] = val;    <span class="comment">//- 从索引1开始添加元素</span></span><br><span class="line">        <span class="comment">//使新增元素上浮到树的正确位置</span></span><br><span class="line">        swim(<span class="built_in">this</span>.queue,<span class="built_in">this</span>.len);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 删除优先队列中的最大元素，并返回该元素</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@returns <span class="type">&#123;*&#125;</span></span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    MaxQueue.prototype.delMax = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> max = <span class="built_in">this</span>.queue[<span class="number">1</span>];        <span class="comment">//- 从根节点得到最大元素</span></span><br><span class="line">        exch(<span class="built_in">this</span>.queue,<span class="number">1</span>,<span class="built_in">this</span>.len--);  <span class="comment">//- 把最后一个节点放到根节点上，并且让长度索引减一</span></span><br><span class="line">        <span class="built_in">this</span>.queue.length = <span class="built_in">this</span>.len+<span class="number">1</span>; <span class="comment">//- 删除最后一个节点</span></span><br><span class="line">        sink(<span class="built_in">this</span>.queue,<span class="number">1</span>);             <span class="comment">//- 下沉根节点，恢复堆的有序性</span></span><br><span class="line">        <span class="keyword">return</span> max;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    MaxQueue.prototype.show = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.queue);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    MaxQueue.prototype.isEmpty = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.len==<span class="number">0</span>;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    W.MaxQueue = MaxQueue;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 堆排序算法</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@constructor</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">HeapSort</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">    HeapSort.prototype.sort = <span class="function"><span class="keyword">function</span> (<span class="params">arr</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> len = arr.length;</span><br><span class="line">        <span class="comment">//由于arr[0]不使用，放到最后使得能够被排序</span></span><br><span class="line">        <span class="comment">//注意：也可在less和exch中解决，见后面的Java完整代码实现。这里为了对应位置1的元素不使用，方便对照看代码与样例图。</span></span><br><span class="line">        arr[len] = arr[<span class="number">0</span>];</span><br><span class="line">        <span class="comment">//使用下沉来构造二叉堆</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> k=<span class="built_in">parseInt</span>(len/<span class="number">2</span>);k&gt;=<span class="number">1</span>;k--)&#123;</span><br><span class="line">            sink(arr,k,len);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//不断把最大的arr[1]交换到最后，然后让新的arr[1]元素下沉到堆有序状态</span></span><br><span class="line">        <span class="keyword">while</span> (len&gt;<span class="number">1</span>)&#123;</span><br><span class="line">            exch(arr,<span class="number">1</span>,len--);</span><br><span class="line">            sink(arr,<span class="number">1</span>,len);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//删除未使用的arr[0]（也可在less和exch中解决，见Java代码实现）</span></span><br><span class="line">        arr.splice(<span class="number">0</span>,<span class="number">1</span>);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    W.HeapSort = HeapSort;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//下标为k的元素上浮到正确位置</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">swim</span>(<span class="params">arr,k</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(k&gt;<span class="number">1</span> &amp;&amp; less(arr,<span class="built_in">parseInt</span>(k/<span class="number">2</span>),k))&#123;</span><br><span class="line">            <span class="comment">//父节点索引</span></span><br><span class="line">            <span class="keyword">var</span> parentNode = <span class="built_in">parseInt</span>(k/<span class="number">2</span>);</span><br><span class="line">            exch(arr,parentNode,k);</span><br><span class="line">            k = parentNode;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//下标为k的元素下沉到正确位置</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">sink</span>(<span class="params">arr,k,len</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> len = len ||arr.length;</span><br><span class="line">        <span class="keyword">while</span>(<span class="number">2</span>*k &lt;= len)&#123;</span><br><span class="line">            <span class="keyword">var</span> j = <span class="number">2</span>*k;</span><br><span class="line">            <span class="keyword">if</span>(j&lt;len &amp;&amp; less(arr,j,j+<span class="number">1</span>)) j++;</span><br><span class="line">            <span class="keyword">if</span>(!less(arr,k,j)) <span class="keyword">break</span>;</span><br><span class="line">            exch(arr,k,j);</span><br><span class="line">            k = j;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">less</span>(<span class="params">arr,m,n</span>) </span>&#123;</span><br><span class="line">        <span class="comment">//可根据不同的数据类型设置比对规则，比如json。这里适用于数字与字符串。</span></span><br><span class="line">        <span class="keyword">return</span> arr[m]&lt;arr[n];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 交换数组arr中m与n的位置</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param <span class="variable">m</span></span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param <span class="variable">n</span></span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">exch</span>(<span class="params">arr,m,n</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> swap    = arr[m];</span><br><span class="line">        arr[m]      = arr[n];</span><br><span class="line">        arr[n]      = swap;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)(<span class="built_in">window</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//测试代码</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">//优先队列测试，依次从大到小输出元素</span></span><br><span class="line">    <span class="keyword">var</span> q = <span class="keyword">new</span> MaxQueue();</span><br><span class="line">    q.insert(<span class="number">3</span>);</span><br><span class="line">    q.insert(<span class="number">33</span>);</span><br><span class="line">    q.insert(<span class="number">9</span>);</span><br><span class="line">    q.insert(<span class="number">21</span>);</span><br><span class="line">    <span class="keyword">while</span> (!q.isEmpty())&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(q.delMax())</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//堆排序测试代码</span></span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">0</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">21</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">0</span>,<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">new</span> HeapSort().sort(arr);</span><br><span class="line">    <span class="built_in">console</span>.log(arr);</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>

<h3 id="Java实现"><a href="#Java实现" class="headerlink" title="Java实现"></a>Java实现</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.algs;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Heap</span> </span>&#123;</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 堆排序</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> pq</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(Comparable[] pq)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = pq.length;</span><br><span class="line">        <span class="comment">//构造堆结构</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> k = n/<span class="number">2</span>; k &gt;= <span class="number">1</span>; k--)</span><br><span class="line">            sink(pq, k, n);</span><br><span class="line">        <span class="comment">//排序数组</span></span><br><span class="line">        <span class="keyword">while</span> (n &gt; <span class="number">1</span>) &#123;</span><br><span class="line">            exch(pq, <span class="number">1</span>, n--);</span><br><span class="line">            sink(pq, <span class="number">1</span>, n);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//下沉元素</span></span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sink</span><span class="params">(Comparable[] pq, <span class="keyword">int</span> k, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="number">2</span>*k &lt;= n) &#123;</span><br><span class="line">            <span class="keyword">int</span> j = <span class="number">2</span>*k;</span><br><span class="line">            <span class="keyword">if</span> (j &lt; n &amp;&amp; less(pq, j, j+<span class="number">1</span>)) j++;</span><br><span class="line">            <span class="keyword">if</span> (!less(pq, k, j)) <span class="keyword">break</span>;</span><br><span class="line">            exch(pq, k, j);</span><br><span class="line">            k = j;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//注意这里i和j都减去1</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">less</span><span class="params">(Comparable[] pq, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> pq[i-<span class="number">1</span>].compareTo(pq[j-<span class="number">1</span>]) &lt; <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//注意这里i和j都减去1</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">exch</span><span class="params">(Object[] pq, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">        Object swap = pq[i-<span class="number">1</span>];</span><br><span class="line">        pq[i-<span class="number">1</span>] = pq[j-<span class="number">1</span>];</span><br><span class="line">        pq[j-<span class="number">1</span>] = swap;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">(Comparable[] a)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; a.length; i++) &#123;</span><br><span class="line">            System.out.println(a[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		String[] a = &#123;<span class="string">&quot;S&quot;</span>,<span class="string">&quot;O&quot;</span>,<span class="string">&quot;R&quot;</span>,<span class="string">&quot;T&quot;</span>,<span class="string">&quot;E&quot;</span>,<span class="string">&quot;X&quot;</span>,<span class="string">&quot;A&quot;</span>,<span class="string">&quot;M&quot;</span>,<span class="string">&quot;P&quot;</span>,<span class="string">&quot;L&quot;</span>,<span class="string">&quot;E&quot;</span>&#125;;</span><br><span class="line">        Heap.sort(a);</span><br><span class="line">        show(a);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ol>
<li>不稳定。</li>
<li>原地排序。</li>
<li>时间复杂度为NlogN</li>
<li>空间复杂度为l</li>
</ol>
<p>GitHub：<a target="_blank" rel="noopener" href="https://github.com/AlbertKnag/algs-practice">https://github.com/AlbertKnag/algs-practice</a></p>
<p>上一篇：<a href="http://muchstudy.com/2017/04/30/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%9507%EF%BC%9A%E4%B8%89%E5%90%91%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/">排序算法07：三向快速排序</a><br>下一篇：<a href="http://muchstudy.com/2017/05/04/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%9509%EF%BC%9A%E6%80%BB%E7%BB%93/">排序算法09：总结</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://muchstudy.com/2017/05/01/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%9508%EF%BC%9A%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97%E4%B8%8E%E5%A0%86%E6%8E%92%E5%BA%8F/" data-id="cm5tqeeva005xwayp3mkvbhmb" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-排序算法07：三向快速排序" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/04/30/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%9507%EF%BC%9A%E4%B8%89%E5%90%91%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/" class="article-date">
  <time datetime="2017-04-30T14:07:43.000Z" itemprop="datePublished">2017-04-30</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/04/30/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%9507%EF%BC%9A%E4%B8%89%E5%90%91%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/">排序算法07：三向快速排序</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="算法介绍"><a href="#算法介绍" class="headerlink" title="算法介绍"></a>算法介绍</h2><p>&emsp;&emsp;在上一篇<a href="http://muchstudy.com/2017/04/29/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%9506%EF%BC%9A%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/">排序算法06：快速排序</a>中，可以知道，快速排序不停的递归切分数组。在有大量的重复元素情况下，这样的切分存在巨大的改进空间。三向切分的快速排序就是为了提升在有大量重复元素情况下快速排序的性能。</p>
<p>&emsp;&emsp;快速排序把数组切分为两部分，分别对应与小于，大于切分元素的数组元素。而三向切分将数组切分为三部分，分别对应小于，等于，大于切分元素的数组元素。</p>
<p>&emsp;&emsp;三向切分的快速排序的算法逻辑为：从左到右遍历数组一次，维护一个指针lt使得a[lo..lt-1]中的元素都小于v，一个指针gt使得a[gt+1..hi]中的元素都大于v，一个指针i使得a[gt..i-1]中的元素都等于v,a[i..gt]中的元素都还未确定。</p>
<p><strong>三向切分的示意图：</strong></p>
<img src="/2017/04/30/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%9507%EF%BC%9A%E4%B8%89%E5%90%91%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/%E4%B8%89%E5%90%91%E5%88%87%E5%88%86%E7%9A%84%E7%A4%BA%E6%84%8F%E5%9B%BE.jpg" class="" title="三向切分的示意图">

<h2 id="算法实现"><a href="#算法实现" class="headerlink" title="算法实现"></a>算法实现</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">quick3way</span>(<span class="params">a,lo,hi</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(hi&lt;=lo)&#123;<span class="keyword">return</span>;&#125;</span><br><span class="line">        <span class="keyword">var</span> lt=lo,i=lo+<span class="number">1</span>,gt=hi;</span><br><span class="line">        <span class="keyword">var</span> v = a[lo];              <span class="comment">//- 选择a[lo]为需要切分的元素</span></span><br><span class="line">        <span class="keyword">while</span> (i&lt;=gt)&#123;</span><br><span class="line">            <span class="keyword">if</span>(a[i] &lt; v)&#123;</span><br><span class="line">                exch(a,lt++,i++)</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(a[i] &gt; v)&#123;</span><br><span class="line">                exch(a,i,gt--);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">/*程序运行到这里结果为:a[lo..lt-1] &lt; v &lt; a[gt+1,hi];其中v=a[lt..gt]*/</span></span><br><span class="line">        quick3way(a,lo,lt-<span class="number">1</span>);       <span class="comment">//- 对左侧（a[lo..lt-1]）进行排序</span></span><br><span class="line">        quick3way(a,gt+<span class="number">1</span>,hi);       <span class="comment">//- 对右侧(a[gt+1,hi])进行排序</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p><strong>三向切分的轨迹：</strong></p>
<img src="/2017/04/30/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%9507%EF%BC%9A%E4%B8%89%E5%90%91%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/%E4%B8%89%E5%90%91%E5%88%87%E5%88%86%E7%9A%84%E8%BD%A8%E8%BF%B9.jpg" class="" title="三向切分的轨迹">

<h2 id="完整代码"><a href="#完整代码" class="headerlink" title="完整代码"></a>完整代码</h2><h3 id="Javascript实现"><a href="#Javascript实现" class="headerlink" title="Javascript实现"></a>Javascript实现</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by YiYing on 2017/4/30.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">W</span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">quick3way</span>(<span class="params">a,lo,hi</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(hi&lt;=lo)&#123;<span class="keyword">return</span>;&#125;</span><br><span class="line">        <span class="keyword">var</span> lt=lo,i=lo+<span class="number">1</span>,gt=hi;</span><br><span class="line">        <span class="keyword">var</span> v = a[lo];              <span class="comment">//- 选择a[lo]为需要切分的元素</span></span><br><span class="line">        <span class="keyword">while</span> (i&lt;=gt)&#123;</span><br><span class="line">            <span class="keyword">if</span>(a[i] &lt; v)&#123;</span><br><span class="line">                exch(a,lt++,i++)</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(a[i] &gt; v)&#123;</span><br><span class="line">                exch(a,i,gt--);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">/*程序运行到这里结果为:a[lo..lt-1] &lt; v &lt; a[gt+1,hi];其中v=a[lt..gt]*/</span></span><br><span class="line">        quick3way(a,lo,lt-<span class="number">1</span>);       <span class="comment">//- 对左侧（a[lo..lt-1]）进行排序</span></span><br><span class="line">        quick3way(a,gt+<span class="number">1</span>,hi);       <span class="comment">//- 对右侧(a[gt+1,hi])进行排序</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 交换数组中m与n的位置</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param </span>a  数组</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param <span class="variable">m</span></span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param <span class="variable">n</span></span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">exch</span>(<span class="params">a,m,n</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> swap    = a[m];</span><br><span class="line">        a[m] = a[n];</span><br><span class="line">        a[n] = swap;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    W.Quick3way = <span class="function"><span class="keyword">function</span> (<span class="params">a</span>) </span>&#123;</span><br><span class="line">        quick3way(a,<span class="number">0</span>,a.length-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)(<span class="built_in">window</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//测试代码</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> chars = [<span class="string">&#x27;0&#x27;</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;3&#x27;</span>,<span class="string">&#x27;4&#x27;</span>,<span class="string">&#x27;5&#x27;</span>,<span class="string">&#x27;6&#x27;</span>,<span class="string">&#x27;7&#x27;</span>,<span class="string">&#x27;8&#x27;</span>,<span class="string">&#x27;9&#x27;</span>,<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;B&#x27;</span>,<span class="string">&#x27;C&#x27;</span>,<span class="string">&#x27;D&#x27;</span>,<span class="string">&#x27;E&#x27;</span>,<span class="string">&#x27;F&#x27;</span>,<span class="string">&#x27;G&#x27;</span>,<span class="string">&#x27;H&#x27;</span>,<span class="string">&#x27;I&#x27;</span>,<span class="string">&#x27;J&#x27;</span>,<span class="string">&#x27;K&#x27;</span>,<span class="string">&#x27;L&#x27;</span>,<span class="string">&#x27;M&#x27;</span>,<span class="string">&#x27;N&#x27;</span>,<span class="string">&#x27;O&#x27;</span>,<span class="string">&#x27;P&#x27;</span>,<span class="string">&#x27;Q&#x27;</span>,<span class="string">&#x27;R&#x27;</span>,<span class="string">&#x27;S&#x27;</span>,<span class="string">&#x27;T&#x27;</span>,<span class="string">&#x27;U&#x27;</span>,<span class="string">&#x27;V&#x27;</span>,<span class="string">&#x27;W&#x27;</span>,<span class="string">&#x27;X&#x27;</span>,<span class="string">&#x27;Y&#x27;</span>,<span class="string">&#x27;Z&#x27;</span>];</span><br><span class="line">    <span class="keyword">var</span> arr = [];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;<span class="number">1000000</span>;i++)&#123;</span><br><span class="line">        <span class="keyword">var</span> id = <span class="built_in">Math</span>.ceil(<span class="built_in">Math</span>.random()*<span class="number">35</span>);</span><br><span class="line">        arr[i] = chars[id];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.time(<span class="string">&quot;Quick3way&quot;</span>);</span><br><span class="line">    Quick3way(arr);      <span class="comment">//- chrome下一百万数据平均120ms,明显优于快速排序</span></span><br><span class="line">    <span class="built_in">console</span>.timeEnd(<span class="string">&quot;Quick3way&quot;</span>);</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>

<h3 id="Java实现"><a href="#Java实现" class="headerlink" title="Java实现"></a>Java实现</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">package</span> com.algs;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 三向快速排序（适用于重复元素较多的情况）</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> YiYing</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@data</span> 2017年4月30日 下午10:34:09</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Quick3way</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(Comparable[] a, <span class="keyword">int</span> lo, <span class="keyword">int</span> hi)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (hi &lt;= lo) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">int</span> lt = lo, gt = hi;</span><br><span class="line">        Comparable v = a[lo];</span><br><span class="line">        <span class="keyword">int</span> i = lo;</span><br><span class="line">        <span class="keyword">while</span> (i &lt;= gt) &#123;</span><br><span class="line">            <span class="keyword">int</span> cmp = a[i].compareTo(v);</span><br><span class="line">            <span class="keyword">if</span>      (cmp &lt; <span class="number">0</span>) exch(a, lt++, i++);</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (cmp &gt; <span class="number">0</span>) exch(a, i, gt--);</span><br><span class="line">            <span class="keyword">else</span>              i++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//此时数组中的情况为：a[lo..lt-1] &lt; v = a[lt..gt] &lt; a[gt+1..hi].</span></span><br><span class="line">        sort(a, lo, lt-<span class="number">1</span>);		<span class="comment">//- 对左侧进行排序</span></span><br><span class="line">        sort(a, gt+<span class="number">1</span>, hi);		<span class="comment">//- 对右侧进行排序</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//交换 a[i]和a[j]的位置</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">exch</span><span class="params">(Object[] a, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">        Object swap = a[i];</span><br><span class="line">        a[i] = a[j];</span><br><span class="line">        a[j] = swap;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">(Integer[] a)</span></span>&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; a.length; i++) &#123;</span><br><span class="line">            System.out.print(a[i]+<span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Integer[] arr = &#123;<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">0</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">21</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">0</span>,<span class="number">1</span>&#125;;</span><br><span class="line">		Quick3way.sort(arr,<span class="number">0</span>,arr.length-<span class="number">1</span>);</span><br><span class="line">		Quick3way.show(arr);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ol>
<li>不稳定。</li>
<li>原地排序。</li>
<li>时间复杂度为介于N到NlogN之间</li>
<li>空间复杂度为lgN</li>
<li>经测试验证，在存在大量重复元素情况下，三向切分的快速排序的平均排序时间明显快于快速排序</li>
</ol>
<p>GitHub：<a target="_blank" rel="noopener" href="https://github.com/AlbertKnag/algs-practice">https://github.com/AlbertKnag/algs-practice</a></p>
<p>上一篇：<a href="http://muchstudy.com/2017/04/29/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%9506%EF%BC%9A%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/">排序算法06：快速排序</a><br>下一篇：<a href="http://muchstudy.com/2017/05/01/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%9508%EF%BC%9A%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97%E4%B8%8E%E5%A0%86%E6%8E%92%E5%BA%8F/">排序算法08：优先队列与堆排序</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://muchstudy.com/2017/04/30/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%9507%EF%BC%9A%E4%B8%89%E5%90%91%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/" data-id="cm5tqeeva005vwayp8eo93yra" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-排序算法06：快速排序" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/04/29/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%9506%EF%BC%9A%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/" class="article-date">
  <time datetime="2017-04-29T14:04:08.000Z" itemprop="datePublished">2017-04-29</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/04/29/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%9506%EF%BC%9A%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/">排序算法06：快速排序</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="算法介绍"><a href="#算法介绍" class="headerlink" title="算法介绍"></a>算法介绍</h2><p>&emsp;&emsp;快速排序是一种分治的排序算法。排序逻辑为：先挑一个元素来切分数组，最终让该元素的左侧都小于该元素，右侧的所有元素都大于该元素。递归的让左侧和右侧分别执行该操作，最终让整个数组变得有序。</p>
<p><strong>快速排序示意图：</strong></p>
<img src="/2017/04/29/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%9506%EF%BC%9A%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F%E7%A4%BA%E6%84%8F%E5%9B%BE.jpg" class="" title="快速排序示意图">

<p>&emsp;&emsp;咋眼一看快速排序跟归并排序很像，其实区别挺明显的。归并排序将数组分成两个子数组分别排序，并将有序的子数组归并以将整个数组排序；而快速排序将数组排序的方式则是当左右两个数组有序时整个数组为自然有序状态。</p>
<h2 id="快速排序的切分"><a href="#快速排序的切分" class="headerlink" title="快速排序的切分"></a>快速排序的切分</h2><p>&emsp;&emsp;快速排序的核心在于数组的切分。切分的逻辑为，维护两个指针i和j，i从前往后移动，j从后往前移动。最终让切分元素的左侧都小于切分元素，右侧都大于切分元素。</p>
<p><strong>切分示意图如下：</strong></p>
<img src="/2017/04/29/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%9506%EF%BC%9A%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F%E5%88%87%E5%88%86%E7%A4%BA%E6%84%8F%E5%9B%BE.jpg" class="" title="快速排序切分示意图">


<p>Javascript代码如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 将数组a切分为a[lo...i-1],a[i],a[i+1,hi]</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param </span>a     需要切分的数组</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param </span>lo    起始位置</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param </span>hi    结束位置</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">partition</span>(<span class="params">a,lo,hi</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> i = lo,j=hi+<span class="number">1</span>;      <span class="comment">//- i,j为左右扫描的指针</span></span><br><span class="line">        <span class="keyword">var</span> v = a[lo];          <span class="comment">//- 选择第lo元素为切分元素，让lo左边的都小于a[lo],右边的都大于a[lo]</span></span><br><span class="line">        <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">            <span class="comment">//不断从前向后移动指针</span></span><br><span class="line">            <span class="keyword">while</span> (a[++i] &lt; v)&#123;</span><br><span class="line">                <span class="keyword">if</span>(i==hi)&#123;<span class="keyword">break</span>;&#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//不断的从后往前移动指针</span></span><br><span class="line">            <span class="keyword">while</span> (v &lt; a[--j])&#123;</span><br><span class="line">                <span class="keyword">if</span>(j==lo)&#123;<span class="keyword">break</span>;&#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(i&gt;=j)&#123;<span class="keyword">break</span>;&#125;</span><br><span class="line">            <span class="comment">//较小的往前放，较小的往后放</span></span><br><span class="line">            exch(a,i,j);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//把切分的元素放到正确的位置，交换lo与j的位置</span></span><br><span class="line">        exch(a,lo,j);</span><br><span class="line">        <span class="keyword">return</span> j;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p><strong>一次切分的切分轨迹如下：</strong></p>
<img src="/2017/04/29/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%9506%EF%BC%9A%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/%E5%88%87%E5%88%86%E8%BD%A8%E8%BF%B9.jpg" class="" title="切分轨迹">


<h2 id="排序实现"><a href="#排序实现" class="headerlink" title="排序实现"></a>排序实现</h2><p>切分完成了排序就比较简单了，代码如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 快速排序</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param </span>a     需要排序的数组</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param </span>lo    起始位置</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param </span>hi    结束位置</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sort</span>(<span class="params">a,lo,hi</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(hi&lt;=lo)<span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">var</span> j = partition(a,lo,hi); <span class="comment">//- 切分数组，让a[j]左边的都小于它，右边的都大于它。</span></span><br><span class="line">    sort(a,lo,j-<span class="number">1</span>);             <span class="comment">//- 将左半部分a[lo..j-1]排序</span></span><br><span class="line">    sort(a,j+<span class="number">1</span>,hi);             <span class="comment">//- 将右半部份a[j+1...hi]排序</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="完整代码"><a href="#完整代码" class="headerlink" title="完整代码"></a>完整代码</h2><h3 id="Javascript实现"><a href="#Javascript实现" class="headerlink" title="Javascript实现"></a>Javascript实现</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by YiYing on 2017/4/30.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">W</span>) </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 快速排序</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param </span>a     需要排序的数组</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param </span>lo    起始位置</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param </span>hi    结束位置</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">sort</span>(<span class="params">a,lo,hi</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(hi&lt;=lo)<span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">var</span> j = partition(a,lo,hi); <span class="comment">//- 切分数组，让a[j]左边的都小于它，右边的都大于它。</span></span><br><span class="line">        sort(a,lo,j-<span class="number">1</span>);             <span class="comment">//- 将左半部分a[lo..j-1]排序</span></span><br><span class="line">        sort(a,j+<span class="number">1</span>,hi);             <span class="comment">//- 将右半部份a[j+1...hi]排序</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 将数组a切分为a[lo...i-1],a[i],a[i+1,hi]</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param </span>a     需要切分的数组</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param </span>lo    起始位置</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param </span>hi    结束位置</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">partition</span>(<span class="params">a,lo,hi</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> i = lo,j=hi+<span class="number">1</span>;      <span class="comment">//- i,j为左右扫描的指针</span></span><br><span class="line">        <span class="keyword">var</span> v = a[lo];          <span class="comment">//- 选择第lo元素为切分元素，让lo左边的都小于a[lo],右边的都大于a[lo]</span></span><br><span class="line">        <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">            <span class="comment">//不断从前向后移动指针</span></span><br><span class="line">            <span class="keyword">while</span> (a[++i] &lt; v)&#123;</span><br><span class="line">                <span class="keyword">if</span>(i==hi)&#123;<span class="keyword">break</span>;&#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//不断的从后往前移动指针</span></span><br><span class="line">            <span class="keyword">while</span> (v &lt; a[--j])&#123;</span><br><span class="line">                <span class="keyword">if</span>(j==lo)&#123;<span class="keyword">break</span>;&#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(i&gt;=j)&#123;<span class="keyword">break</span>;&#125;</span><br><span class="line">            <span class="comment">//较小的往前放，较小的往后放</span></span><br><span class="line">            exch(a,i,j);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//把切分的元素放到正确的位置，交换lo与j的位置</span></span><br><span class="line">        exch(a,lo,j);</span><br><span class="line">        <span class="keyword">return</span> j;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 交换数组中m与n的位置</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param </span>a  数组</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param <span class="variable">m</span></span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param <span class="variable">n</span></span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">exch</span>(<span class="params">a,m,n</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> swap    = a[m];</span><br><span class="line">        a[m] = a[n];</span><br><span class="line">        a[n] = swap;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    W.QuickSort = <span class="function"><span class="keyword">function</span> (<span class="params">a</span>) </span>&#123;</span><br><span class="line">        sort(a,<span class="number">0</span>,a.length);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)(<span class="built_in">window</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//测试代码</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">//var arr = [4,5,6,0,3,5,21,7,9,0,1];</span></span><br><span class="line">    <span class="comment">//console.log(arr);</span></span><br><span class="line">    <span class="keyword">var</span> chars = [<span class="string">&#x27;0&#x27;</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;3&#x27;</span>,<span class="string">&#x27;4&#x27;</span>,<span class="string">&#x27;5&#x27;</span>,<span class="string">&#x27;6&#x27;</span>,<span class="string">&#x27;7&#x27;</span>,<span class="string">&#x27;8&#x27;</span>,<span class="string">&#x27;9&#x27;</span>,<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;B&#x27;</span>,<span class="string">&#x27;C&#x27;</span>,<span class="string">&#x27;D&#x27;</span>,<span class="string">&#x27;E&#x27;</span>,<span class="string">&#x27;F&#x27;</span>,<span class="string">&#x27;G&#x27;</span>,<span class="string">&#x27;H&#x27;</span>,<span class="string">&#x27;I&#x27;</span>,<span class="string">&#x27;J&#x27;</span>,<span class="string">&#x27;K&#x27;</span>,<span class="string">&#x27;L&#x27;</span>,<span class="string">&#x27;M&#x27;</span>,<span class="string">&#x27;N&#x27;</span>,<span class="string">&#x27;O&#x27;</span>,<span class="string">&#x27;P&#x27;</span>,<span class="string">&#x27;Q&#x27;</span>,<span class="string">&#x27;R&#x27;</span>,<span class="string">&#x27;S&#x27;</span>,<span class="string">&#x27;T&#x27;</span>,<span class="string">&#x27;U&#x27;</span>,<span class="string">&#x27;V&#x27;</span>,<span class="string">&#x27;W&#x27;</span>,<span class="string">&#x27;X&#x27;</span>,<span class="string">&#x27;Y&#x27;</span>,<span class="string">&#x27;Z&#x27;</span>];</span><br><span class="line">    <span class="keyword">var</span> arr = [];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;<span class="number">1000000</span>;i++)&#123;</span><br><span class="line">        <span class="keyword">var</span> id = <span class="built_in">Math</span>.ceil(<span class="built_in">Math</span>.random()*<span class="number">35</span>);</span><br><span class="line">        arr[i] = chars[id];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.time(<span class="string">&quot;QuickSort&quot;</span>);</span><br><span class="line">    QuickSort(arr);      <span class="comment">//- chrome下一百万数据平均250ms,如果不计算长度，则小于200ms</span></span><br><span class="line">    <span class="built_in">console</span>.timeEnd(<span class="string">&quot;QuickSort&quot;</span>);</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="Java实现"><a href="#Java实现" class="headerlink" title="Java实现"></a>Java实现</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">package</span> com.algs;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Quick</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(Comparable[] a)</span> </span>&#123;</span><br><span class="line">        sort(a, <span class="number">0</span>, a.length - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//让数组从a[lo] 到 a[hi]有序</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(Comparable[] a, <span class="keyword">int</span> lo, <span class="keyword">int</span> hi)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (hi &lt;= lo) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">int</span> j = partition(a, lo, hi);</span><br><span class="line">        sort(a, lo, j-<span class="number">1</span>);</span><br><span class="line">        sort(a, j+<span class="number">1</span>, hi);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 切分数组a[lo..hi] 最终让数组满足如下状态： a[lo..j-1] &lt;= a[j] &lt;= a[j+1..hi]</span></span><br><span class="line">    <span class="comment">// 并返回j</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">partition</span><span class="params">(Comparable[] a, <span class="keyword">int</span> lo, <span class="keyword">int</span> hi)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i = lo;</span><br><span class="line">        <span class="keyword">int</span> j = hi + <span class="number">1</span>;</span><br><span class="line">        Comparable v = a[lo];</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            <span class="keyword">while</span> (less(a[++i], v))</span><br><span class="line">                <span class="keyword">if</span> (i == hi) <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">while</span> (less(v, a[--j]))</span><br><span class="line">                <span class="keyword">if</span> (j == lo) <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">if</span> (i &gt;= j) <span class="keyword">break</span>;</span><br><span class="line">            exch(a, i, j);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 把切分的元素放到j的位置上</span></span><br><span class="line">        exch(a, lo, j);</span><br><span class="line">        <span class="keyword">return</span> j;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">     <span class="comment">// 判断v &lt; w ?</span></span><br><span class="line">     <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">less</span><span class="params">(Comparable v, Comparable w)</span> </span>&#123;</span><br><span class="line">         <span class="keyword">return</span> v.compareTo(w) &lt; <span class="number">0</span>;</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     <span class="comment">// 交换 a[i]和 a[j]</span></span><br><span class="line">     <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">exch</span><span class="params">(Object[] a, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">         Object swap = a[i];</span><br><span class="line">         a[i] = a[j];</span><br><span class="line">         a[j] = swap;</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">(Integer[] a)</span></span>&#123;</span><br><span class="line"> 		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; a.length; i++) &#123;</span><br><span class="line">             System.out.print(a[i]+<span class="string">&quot; &quot;</span>);</span><br><span class="line">         &#125;</span><br><span class="line"> 	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Integer[] a = &#123;<span class="number">1</span>,<span class="number">55</span>,<span class="number">32</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;;</span><br><span class="line">		sort(a);</span><br><span class="line">		show(a);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ol>
<li>不稳定。</li>
<li>原地排序。</li>
<li>时间复杂度为NlogN</li>
<li>空间复杂度为lgN</li>
<li>快速排序最好的情况是每次都正好能将数组对半分</li>
<li>如果使用左右两个辅助数组可以方便实现切分，但把数组复制回去的成本会大大降低排序的速度</li>
<li>归并排序和希尔排序一般都比快速排序慢。原因为：快速排序切分中用一个递增的索引将数组元素和一个定值比较。而归并排序和希尔排序在内循环中移动数据的频率较高。</li>
</ol>
<p>GitHub：<a target="_blank" rel="noopener" href="https://github.com/AlbertKnag/algs-practice">https://github.com/AlbertKnag/algs-practice</a></p>
<p>上一篇：<a href="http://muchstudy.com/2017/04/29/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%9505%EF%BC%9A%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F/">排序算法05：归并排序</a><br>下一篇：<a href="http://muchstudy.com/2017/04/30/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%9507%EF%BC%9A%E4%B8%89%E5%90%91%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/">排序算法07：三向快速排序</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://muchstudy.com/2017/04/29/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%9506%EF%BC%9A%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/" data-id="cm5tqeev9005twaypasdacsar" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/9/">&amp;laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="page-number" href="/page/9/">9</a><span class="page-number current">10</span><a class="page-number" href="/page/11/">11</a><a class="page-number" href="/page/12/">12</a><span class="space">&hellip;</span><a class="page-number" href="/page/18/">18</a><a class="extend next" rel="next" href="/page/11/">Next &amp;raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/DBMS/">DBMS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/FrontEnd/">FrontEnd</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/HTTP/">HTTP</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Life/">Life</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Maven/">Maven</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Programmer/">Programmer</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Thinking/">Thinking</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E4%BA%A7%E5%93%81%E7%A0%94%E5%8F%91/">产品研发</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%85%B6%E5%AE%83/">其它</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AE%89%E5%85%A8/">安全</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9E%B6%E6%9E%84/">架构</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">设计模式</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTP%E5%AE%89%E5%85%A8/" rel="tag">HTTP安全</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTP%E7%8A%B6%E6%80%81%E7%A0%81/" rel="tag">HTTP状态码</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTP%E8%BF%9E%E6%8E%A5/" rel="tag">HTTP连接</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/" rel="tag">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Life/" rel="tag">Life</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/POI/" rel="tag">POI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RSA/" rel="tag">RSA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nexus/" rel="tag">nexus</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/restfull/" rel="tag">restfull</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sqlmap/" rel="tag">sqlmap</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sql%E6%B3%A8%E5%85%A5/" rel="tag">sql注入</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF/" rel="tag">前端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%93%B2%E5%AD%A6/" rel="tag">哲学</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9B%A2%E9%98%9F%E7%AE%A1%E7%90%86/" rel="tag">团队管理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AE%89%E5%85%A8/" rel="tag">安全</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B7%A5%E4%BD%9C%E6%80%9D%E8%80%83/" rel="tag">工作思考</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B7%A5%E5%85%B7%E7%B1%BB/" rel="tag">工具类</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/" rel="tag">排序算法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BC%93%E5%AD%98/" rel="tag">缓存</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AF%BB%E4%B9%A6/" rel="tag">读书</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" rel="tag">读书笔记</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9A%8F%E7%AC%94/" rel="tag">随笔</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/HTTP%E5%AE%89%E5%85%A8/" style="font-size: 10px;">HTTP安全</a> <a href="/tags/HTTP%E7%8A%B6%E6%80%81%E7%A0%81/" style="font-size: 10px;">HTTP状态码</a> <a href="/tags/HTTP%E8%BF%9E%E6%8E%A5/" style="font-size: 10px;">HTTP连接</a> <a href="/tags/Java/" style="font-size: 10px;">Java</a> <a href="/tags/JavaScript/" style="font-size: 10px;">JavaScript</a> <a href="/tags/Life/" style="font-size: 10px;">Life</a> <a href="/tags/POI/" style="font-size: 10px;">POI</a> <a href="/tags/RSA/" style="font-size: 10px;">RSA</a> <a href="/tags/nexus/" style="font-size: 10px;">nexus</a> <a href="/tags/restfull/" style="font-size: 10px;">restfull</a> <a href="/tags/sqlmap/" style="font-size: 10px;">sqlmap</a> <a href="/tags/sql%E6%B3%A8%E5%85%A5/" style="font-size: 10px;">sql注入</a> <a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 10px;">前端</a> <a href="/tags/%E5%93%B2%E5%AD%A6/" style="font-size: 10px;">哲学</a> <a href="/tags/%E5%9B%A2%E9%98%9F%E7%AE%A1%E7%90%86/" style="font-size: 10px;">团队管理</a> <a href="/tags/%E5%AE%89%E5%85%A8/" style="font-size: 10px;">安全</a> <a href="/tags/%E5%B7%A5%E4%BD%9C%E6%80%9D%E8%80%83/" style="font-size: 20px;">工作思考</a> <a href="/tags/%E5%B7%A5%E5%85%B7%E7%B1%BB/" style="font-size: 12px;">工具类</a> <a href="/tags/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/" style="font-size: 10px;">排序算法</a> <a href="/tags/%E7%BC%93%E5%AD%98/" style="font-size: 14px;">缓存</a> <a href="/tags/%E8%AF%BB%E4%B9%A6/" style="font-size: 12px;">读书</a> <a href="/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" style="font-size: 18px;">读书笔记</a> <a href="/tags/%E9%9A%8F%E7%AC%94/" style="font-size: 16px;">随笔</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/01/">January 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/05/">May 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/03/">March 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/02/">February 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/01/">January 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/10/">October 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/09/">September 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/08/">August 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/07/">July 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">March 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">February 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">January 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">November 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">October 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">September 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">August 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2025/01/12/%E4%BA%BA%E7%94%9F%E4%B8%AD%E5%94%AF%E4%B8%80%E7%9A%842024/">人生中唯一的2024</a>
          </li>
        
          <li>
            <a href="/2024/05/27/%E3%80%8A%E5%BE%B7%E7%B1%B3%E5%AE%89%EF%BC%9A%E5%BD%B7%E5%BE%A8%E5%B0%91%E5%B9%B4%E6%97%B6%E3%80%8B/">《德米安：彷徨少年时》</a>
          </li>
        
          <li>
            <a href="/2024/05/26/%E3%80%8A%E5%AE%9D%E8%B4%B5%E7%9A%84%E4%BA%BA%E7%94%9F%E5%BB%BA%E8%AE%AE%E3%80%8B/">《宝贵的人生建议》</a>
          </li>
        
          <li>
            <a href="/2024/03/17/%E3%80%8A%E7%AE%A1%E7%90%86%E7%9A%84%E5%AE%9E%E8%B7%B5%E3%80%8B/">《管理的实践》</a>
          </li>
        
          <li>
            <a href="/2024/02/24/%E3%80%8A%E5%8D%93%E6%9C%89%E6%88%90%E6%95%88%E7%9A%84%E7%AE%A1%E7%90%86%E8%80%85%E3%80%8B/">《卓有成效的管理者》</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2025 YiYing<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>