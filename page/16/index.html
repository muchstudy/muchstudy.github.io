<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>YiYing’s sharing</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="独立之精神,自由之思想">
<meta property="og:type" content="website">
<meta property="og:title" content="YiYing’s sharing">
<meta property="og:url" content="http://muchstudy.com/page/16/index.html">
<meta property="og:site_name" content="YiYing’s sharing">
<meta property="og:description" content="独立之精神,自由之思想">
<meta property="og:locale">
<meta property="article:author" content="YiYing">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="YiYing’s sharing" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">YiYing’s sharing</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://muchstudy.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-《解忧杂货店》" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/10/16/%E3%80%8A%E8%A7%A3%E5%BF%A7%E6%9D%82%E8%B4%A7%E5%BA%97%E3%80%8B/" class="article-date">
  <time datetime="2016-10-16T13:38:04.000Z" itemprop="datePublished">2016-10-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Life/">Life</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/10/16/%E3%80%8A%E8%A7%A3%E5%BF%A7%E6%9D%82%E8%B4%A7%E5%BA%97%E3%80%8B/">《解忧杂货店》</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <img src="/2016/10/16/%E3%80%8A%E8%A7%A3%E5%BF%A7%E6%9D%82%E8%B4%A7%E5%BA%97%E3%80%8B/%E8%A7%A3%E5%BF%A7%E6%9D%82%E8%B4%A7%E5%BA%97.jpg" class="" title="《解忧杂货店》-东野圭吾">

<p>&emsp;&emsp;全书共有五个章节，十一之后回来的连续五天读完，阅读时间统一为下班回家的地铁上，不由得感叹零碎时间充分的利用起来居然可以这么快的看完一本书。当然，这也离不开这是一本翻开就停不下来的书。<br>&emsp;&emsp;在这之前，看过东野圭吾的《白夜行》与《嫌疑人X的献身》。受这两部作品的影响，以为《解忧杂货店》也是一本悬疑小说，结果完全出乎意料。<br>&emsp;&emsp;书中，通过一封封的信件一个个的故事，看似杂乱，到后来都串成了一个统一的整体，作者的写作水平可见一斑。<br>&emsp;&emsp;<strong>最后的一张白纸既代表着一无所有，也代表着无限的可能。</strong><br>&emsp;&emsp;本来想整理一下全书的时间线，结果发现知乎上已经有人整理了，在<a target="_blank" rel="noopener" href="https://www.zhihu.com/question/27568787">这里</a>。  </p>
<p>一些标注：  </p>
<ul>
<li>但她那略带忧郁的表情吸引了克郎。在她身上，有种不属于孩子的成熟韵味。</li>
<li>那个女孩眼也不眨地望着他，眼神十分真挚。</li>
<li>他们对克郎造成强烈的刺激。这种刺激用一句话概括，就是他们对音乐的热情。他们宁可牺牲一切，也要提高自己的音乐水准。</li>
<li>“歌唱得跟你一样好的人多的是，如果你的声音很有特色，自然另当别论，但你没有。”</li>
<li>“以外行来说，是还好。”评论家淡淡地答道，“不过可惜也就这个水平了。歌的旋律总有似曾相识的感觉，没有自己的新意。”</li>
<li>人生中浪矢杂货店具有重要意义的人，也许出乎意料的多。</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://muchstudy.com/2016/10/16/%E3%80%8A%E8%A7%A3%E5%BF%A7%E6%9D%82%E8%B4%A7%E5%BA%97%E3%80%8B/" data-id="cm5tqeeu1001xwaypefnfea25" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" rel="tag">读书笔记</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-解决sql脚本导入Oracle重复生成check约束问题" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/10/08/%E8%A7%A3%E5%86%B3sql%E8%84%9A%E6%9C%AC%E5%AF%BC%E5%85%A5Oracle%E9%87%8D%E5%A4%8D%E7%94%9F%E6%88%90check%E7%BA%A6%E6%9D%9F%E9%97%AE%E9%A2%98/" class="article-date">
  <time datetime="2016-10-08T08:06:38.000Z" itemprop="datePublished">2016-10-08</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/DBMS/">DBMS</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/10/08/%E8%A7%A3%E5%86%B3sql%E8%84%9A%E6%9C%AC%E5%AF%BC%E5%85%A5Oracle%E9%87%8D%E5%A4%8D%E7%94%9F%E6%88%90check%E7%BA%A6%E6%9D%9F%E9%97%AE%E9%A2%98/">解决sql脚本导入Oracle重复生成check约束问题</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>&emsp;&emsp;之前一位细心的同事发现产品的全量sql脚本中有一些重复的check约束检查，就像下图这样的</p>
<img src="/2016/10/08/%E8%A7%A3%E5%86%B3sql%E8%84%9A%E6%9C%AC%E5%AF%BC%E5%85%A5Oracle%E9%87%8D%E5%A4%8D%E7%94%9F%E6%88%90check%E7%BA%A6%E6%9D%9F%E9%97%AE%E9%A2%98/%E9%87%8D%E5%A4%8D%E8%84%9A%E6%9C%AC.jpg" class="" title="重复脚本">

<p>怪异之处还在于，每次执行一遍该脚本，然后导出脚本，在导出脚本中重复的次数就会增加一遍。通过navicat，最终确认每导入一次就会新增加一条重复的check约束，如下图所示  </p>
<img src="/2016/10/08/%E8%A7%A3%E5%86%B3sql%E8%84%9A%E6%9C%AC%E5%AF%BC%E5%85%A5Oracle%E9%87%8D%E5%A4%8D%E7%94%9F%E6%88%90check%E7%BA%A6%E6%9D%9F%E9%97%AE%E9%A2%98/navicat.jpg" class="" title="navicat">

<p>&emsp;&emsp;这个全量脚本是直接从数据库中导出的，为了方便导入其他的Oracle数据库中，从产品的出货库导出时手动去掉了<code>服务名</code>、<code>双引号</code>。</p>
<p>&emsp;&emsp;通过如下步骤可复现该问题：<br><strong>1.创建表</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> PD_WEB_FILEUPLOAD_CHUNK (</span><br><span class="line">ID VARCHAR2(<span class="number">32</span> BYTE) <span class="keyword">NOT</span> <span class="keyword">NULL</span> ,</span><br><span class="line">MD5 VARCHAR2(<span class="number">32</span> BYTE) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>  <span class="keyword">NULL</span> ,</span><br><span class="line">CHUNK NUMBER <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>  <span class="keyword">NULL</span> ,</span><br><span class="line">FILE_DIR VARCHAR2(<span class="number">200</span> BYTE) <span class="keyword">NOT</span> <span class="keyword">NULL</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>可以看到上面的脚本中有<code>NOT NULL</code>的标识，执行完后在navicat中可以看到结果是这样的</p>
<img src="/2016/10/08/%E8%A7%A3%E5%86%B3sql%E8%84%9A%E6%9C%AC%E5%AF%BC%E5%85%A5Oracle%E9%87%8D%E5%A4%8D%E7%94%9F%E6%88%90check%E7%BA%A6%E6%9D%9F%E9%97%AE%E9%A2%98/navicatnew.jpg" class="" title="navicat">

<p>注意看，这里的check约束是带双引号的。</p>
<p><strong>2.执行增加check约束的脚本</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> PD_WEB_FILEUPLOAD_CHUNK <span class="keyword">ADD</span> <span class="keyword">CHECK</span> (ID <span class="keyword">IS</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>);</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> PD_WEB_FILEUPLOAD_CHUNK <span class="keyword">ADD</span> <span class="keyword">CHECK</span> (FILE_DIR <span class="keyword">IS</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>);</span><br></pre></td></tr></table></figure>
<p>执行了两遍后，结果如图所示</p>
<img src="/2016/10/08/%E8%A7%A3%E5%86%B3sql%E8%84%9A%E6%9C%AC%E5%AF%BC%E5%85%A5Oracle%E9%87%8D%E5%A4%8D%E7%94%9F%E6%88%90check%E7%BA%A6%E6%9D%9F%E9%97%AE%E9%A2%98/navicatThree.jpg" class="" title="navicat">

<p>测试到这里，以为最终终于找到了原因，确认为双引号的问题。抱着严谨的态度，再次确认了一下  </p>
<p><strong>3.执行带双引号的check约束的脚本</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> PD_WEB_FILEUPLOAD_CHUNK <span class="keyword">ADD</span> <span class="keyword">CHECK</span> (&quot;ID&quot; <span class="keyword">IS</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>);</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> PD_WEB_FILEUPLOAD_CHUNK <span class="keyword">ADD</span> <span class="keyword">CHECK</span> (&quot;FILE_DIR&quot; <span class="keyword">IS</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>);</span><br></pre></td></tr></table></figure>
<p>结果如图所示：</p>
<img src="/2016/10/08/%E8%A7%A3%E5%86%B3sql%E8%84%9A%E6%9C%AC%E5%AF%BC%E5%85%A5Oracle%E9%87%8D%E5%A4%8D%E7%94%9F%E6%88%90check%E7%BA%A6%E6%9D%9F%E9%97%AE%E9%A2%98/four.jpg" class="" title="navicat">

<p>靠！居然还是会重复生成！  </p>
<p>&emsp;&emsp;验证要这里，算是找出了原因。在全量导出的脚本中，创建表的脚本中已经隐含了检查约束，如果再显示的添加检查约束就会重复生成。所以，解决办法为需要手动删除所有显示的检查约束。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://muchstudy.com/2016/10/08/%E8%A7%A3%E5%86%B3sql%E8%84%9A%E6%9C%AC%E5%AF%BC%E5%85%A5Oracle%E9%87%8D%E5%A4%8D%E7%94%9F%E6%88%90check%E7%BA%A6%E6%9D%9F%E9%97%AE%E9%A2%98/" data-id="cm5tqeeu0001rwayp7txva7kg" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-《精进》" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/10/07/%E3%80%8A%E7%B2%BE%E8%BF%9B%E3%80%8B/" class="article-date">
  <time datetime="2016-10-07T13:56:26.000Z" itemprop="datePublished">2016-10-07</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Life/">Life</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/10/07/%E3%80%8A%E7%B2%BE%E8%BF%9B%E3%80%8B/">《精进》</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <img src="/2016/10/07/%E3%80%8A%E7%B2%BE%E8%BF%9B%E3%80%8B/%E7%B2%BE%E8%BF%9B.jpg" class="" title="《精进》-采铜">

<p>&emsp;&emsp;之所以找到这本书是因为在这之前在知乎看过作者关于学习半衰期理论的回答，受益匪浅。</p>
<p>&emsp;&emsp;在看本书之前，在知乎上翻了一下对本书的评价，有人认为这是一本浓浓的鸡汤。因为作者之前答案的深度，抱着试试的心态读完的全文。看完之后觉得这本书其实满满的都是学习过程中经验感悟的总结分享。</p>
<p>&emsp;&emsp;其实，也有看不懂的部分。但原因极有可能是没有亲自熬过鸡汤，无法理解熬制过程的曲折、经验教训与总结，无法感同身受。</p>
<p>下面是一些书中的摘录，整理如下：</p>
<ul>
<li><p>一个人如何对待他的时间，决定了他可以成为什么样的人。</p>
<blockquote>
<p>相同年龄的人到目前为止都拥有相同的时间，因为对时间的不同使用而成为了不同的人</p>
</blockquote>
</li>
<li><p>郑重是这样一种态度：不敷衍、不迟疑、不摇摆，认真地聚焦于当下的事情，自觉而专注地投入。</p>
</li>
<li><p>多采纳积极过去视角、享乐主义视角和未来视角，并且在三者中取得平衡，少采纳负面作用明显的消极过去视角和宿命论视角。</p>
</li>
<li><p>“想想五年后你会干些什么，过什么样的生活？”</p>
<blockquote>
<p>这的确是一个十分值得思考的问题，要做一个有目标、有准备的人。</p>
</blockquote>
</li>
<li><p>在分析一件事情值不值得去做、花多少精力去做的时候，可以从两个角度来评估：一是这件事在当下将给“我”带来的收益大小，这个收益可以是心智、情感层面的，也可以是身体、物质层面的，我称之为“收益值”；二是这项收益随时间衰减的速度，我称之为“收益半衰期”，半衰期长的事件，其影响会持续较久。</p>
</li>
<li><p>侯世达定律：“实际做事花费的时间总是比预期的要长，即使预期中考虑了侯世达定律。”</p>
</li>
<li><p>工作要快，但生活要慢。现代人的日常生活应该有快有慢，而不是一味地和时间竞赛。什么叫有快有慢？用音乐的说法就是节奏。</p>
</li>
<li><p>美学家朱光潜先生曾经说过：“做学问，做事业，在人生中都只能算是第二桩事。人生第一桩事是生活。我所谓‘生活’是‘享受’，是‘领略’，是‘培养生机’。假若为学问为事业而忘却生活，那种学问和事业在人生中便失其真正意义与价值。”</p>
</li>
<li><p>我们从闲暇中获得放松和满足的程度并不取决于闲暇时间的长度，而是取决于其质量。</p>
</li>
<li><p>人在面临选择时，通常会采用“满意原则”，而不是“最优原则”。</p>
</li>
<li><p>一个成熟的人，他的标准来自他的内心，而大多数人，却受环境所左右。</p>
</li>
<li><p>如果说在零度格局下，盲众看到的是幻象和噪声；一度格局下，逐利者看到的是自己的能力和欲望，那么理念人看到的是这个世界深处的真和美，而至善之人看到的是自我与世界、自我与整个人类之间的纽带。</p>
</li>
<li><p>正如伟大的史怀哲所说： “人不能只为他自己而活。我们必须认知所有的生命都是珍贵的，而我们和所有的生命是结合在一起的。这种认知指引了我们心灵和宇宙的关系。”</p>
</li>
<li><p>当我们在人生中遇到某个无法摆脱的僵局时，先不妨试试这三步： 1.找出潜意识中的隐含假设； 2.识别隐含假设中的不合理性，进行校正； 3.形成新的更灵活的思维框架，在此基础上思考出“可能选项”并进行尝试。</p>
</li>
<li><p>管理学大师彼得·德鲁克认为，大多数的智力劳动者，对自己的工作都有一定的掌控权和自由度，工作并不完全是由组织分配和决定的，而是具有充分的弹性。</p>
<blockquote>
<p>比如coding，有时真的看心情…</p>
</blockquote>
</li>
<li><p>而“改造”爱好的一个常见方法，是把对一件事情的“消费型兴趣”升级为“生产型兴趣”。</p>
</li>
<li><p>为自己设定更高的目标，就会发现更多更好的选项，做出更加完美的决定。</p>
</li>
<li><p>一件看上去繁难的事，只要开始做了，就会变得越来越容易。</p>
<blockquote>
<p>深有体会，在面对浩大代码量、复杂逻辑的程序面前，开始写出了第一行代码就成功了一半。</p>
</blockquote>
</li>
<li><p>从一篇短文到一篇长文，从一篇长文到一本书；从单幅的漫画到多格漫画，再从多格漫画到长篇漫画连载。如此一来，你的才能、声誉、影响力和成就感都会慢慢培育出来。</p>
</li>
<li><p>“先做好准备再上场”观念的一个致命问题是：我们永远都无法做好“完全”的准备。</p>
</li>
<li><p>正如英国作家罗根·史密斯说的：“这个宇宙上的一件古怪的事情是，虽然我们大家意见不一，我们大家却总是正确的。”</p>
</li>
<li><p>管理学大师彼得·德鲁克说：“最悲哀的，莫过于用最高效的方式去做错误的事情了。”</p>
</li>
<li><p>所以以精益创业的方式去走向人生的成功，便要做到这三点： 1. 克服“过度准备”的惯性，向前一步，把未完成的事情完成； 2. 克服“自我防卫”的心态，乐于接受反面意见并加以慎重地审视； 3. 克服“沉没成本”的固执，有勇气否定并重新构造自己的产品。</p>
</li>
<li><p>拿到一个任务后，务必要先找到那个任务的核心思考区间，找到那块硬骨头，尽全力去啃下来，而不是先去做那些周边的打扫性的工作。</p>
</li>
<li><p>作为一个读者，你总是从小说的第一句依次看到最后一句。而对一个创作者而言，小说写作的次序存在多种可能性。</p>
</li>
<li><p>写一篇好散文要经过三个台阶，一个是音乐的，这时它被构思；一个是建筑的，这时它被搭建起来；最后一个是纺织的，这时它被织成。”</p>
</li>
<li><p>牛人总是在前瞻性思维和总结性思维上都非常出色。</p>
<blockquote>
<p>正因为有这样的思维才牛</p>
</blockquote>
</li>
<li><p>只有最后能够作用于现实的学习，才是唯一有效的学习。</p>
<blockquote>
<p>不同意该说法</p>
</blockquote>
</li>
<li><p>就我自己来说，我的阅读和思考，都是在自己提出的问题的牵引之下、在因问题无法完美解答所形成的焦虑和不安的鞭策之下进行的。对问题的好奇、对答案的渴望，是驱动我学习和探索的主要动力。</p>
</li>
<li><p>本质安全是指通过设计等手段使生产设备或生产系统本身具有安全性，即使在误操作或发生故障的情况下也不会造成事故的功能”；</p>
</li>
<li><p>伟大的艺术作品，常常有很深厚的内涵和很精巧细微的技法，不论你在哪个或深或浅的层次上解读它，它都能呈现出美妙的意味，但如果你不做一番细心的努力和挖掘，就只能尝到最表层的那一小部分味道。</p>
</li>
<li><p>不只要去寻结论，还要去寻过程</p>
</li>
<li><p>一个艺术作品要能卖出大价钱，关键是“通过作品，创造出世界艺术史的脉络”，也就是说，“从该作品之后，是否开创了新的历史”。</p>
</li>
<li><p>一幅画作的价值，不在于它的线条、颜色、构图，而在于其背后所展现出的“观念”，艺术品的价值就是观念的价值。</p>
<blockquote>
<p>耳目一新</p>
</blockquote>
</li>
<li><p>价值体现在观念的更新</p>
</li>
<li><p>而加上这些副词以后，不仅信息量没有增加，还使读者原本可以有的对人物表情的想象，塌缩成了一个寻常的词汇。</p>
</li>
<li><p>适度的简洁，意味着更丰富的内涵</p>
<blockquote>
<p>需谨记在心</p>
</blockquote>
</li>
<li><p>很多研究思维和创意的学者认为，先发散后收敛的顺序是最为合理的</p>
</li>
<li><p>努力不是一场意志力的较量，而是一种需要学习的策略。</p>
</li>
<li><p>知乎名言“以大多数人的努力程度之低，根本轮不到拼天赋。”</p>
</li>
<li><p>身为音乐家，我一辈子都在追求完美，可完美总是在躲着我。所以，我有责任一次次尝试下去。</p>
</li>
<li><p>挑战是设计出来的</p>
</li>
<li><p>练大脑就像练肌肉，得科学“加量”才行。</p>
</li>
<li><p>如果我能长期坚持去做一件事，一定是这件事带给我的丰盈感和满足感超过了我的所有付出，一定是这件事日日夜夜萦绕在我的心头让我欲罢不能，一定是这件事唤起了我内心深处最强烈的兴趣。也就是说，赐予我力量的，是激情的驱动，而不是意志力的鞭策。</p>
</li>
<li><p>了解不够导致兴趣不足，而兴趣不足又无法加深对它的了解。由于了解不足而判断失误，而判断失误又妨碍了深入了解。</p>
</li>
<li><p>著名书法家启功就批评过种种学习书法的教条，认为它们误事，害人。比如毛笔怎么拿，怎么拿是对的、怎么拿是错的，有严格的标准吗？没有的。又如临什么帖，学什么体，用什么纸，有什么一定之规吗？也没有的。他直言道：“写字为什么？我把字写出来，我写的字我认得，给人看人家认得，让旁人看说写得好看，这不就得了吗！你还要怎么样才算合‘法’呢？”</p>
<blockquote>
<p>《金刚经》中有这么一段话：“一切有为法。如梦幻泡影。如露亦如电。应作如是观。”</p>
</blockquote>
</li>
<li><p>每一个成功者，都是唯一的 创造成功，而不是复制成功</p>
</li>
<li><p>因为你的存在，这个多元的世界又增加了一种新的可能性。</p>
</li>
<li><p>学霸选择依从，学渣选择逃避，但有一点又非常相似，就是他们都没有培养出学习的自主性，并没有回答好自己到底想学什么、怎么学好的问题。很多人参加完高考，就稀里糊涂地由着各种想象选择了一个专业，没有机会和能力来想到底适不适合，然后因为路径依赖，便将就着学下去，丧失了更好地发展自己的机会。</p>
</li>
<li><p>如果你总是在某个专业的壁垒里打转，视野就会变得越来越狭窄，即便本领域的提升也会越来越艰难，很容易就碰触到天花板。</p>
</li>
<li><p>在新思想或新技术刚刚开始兴起无人问津之时就投入进去，成为某一个新知识领域的先驱，实现知识能力的“低买高卖”。</p>
</li>
<li><p>在现实世界中思考理论问题，在理论世界中思考现实问题。</p>
</li>
<li><p>很多学者认为最好的竞争策略并不是教你如何跟其他人竞争，而是开拓出一条独一无二、罕有竞争者的道路。</p>
<blockquote>
<p>何其之难…</p>
</blockquote>
</li>
<li><p>当缺少可以让内心安稳下来的独立标准时，每个人只能随波逐流。</p>
<blockquote>
<p>内心的安稳来自于精神的富足</p>
</blockquote>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://muchstudy.com/2016/10/07/%E3%80%8A%E7%B2%BE%E8%BF%9B%E3%80%8B/" data-id="cm5tqeetx001mwaypegvt2kiq" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" rel="tag">读书笔记</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Excel导入导出" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/09/24/Excel%E5%AF%BC%E5%85%A5%E5%AF%BC%E5%87%BA/" class="article-date">
  <time datetime="2016-09-24T12:56:38.000Z" itemprop="datePublished">2016-09-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Java/">Java</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/24/Excel%E5%AF%BC%E5%85%A5%E5%AF%BC%E5%87%BA/">Excel导入导出</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>&emsp;&emsp;在后台管理系统中，常遇到Excel导入导出的需求，整理了如下两个工具类。</p>
</blockquote>
<h3 id="一、导入"><a href="#一、导入" class="headerlink" title="一、导入"></a>一、导入</h3><h4 id="导入工具类"><a href="#导入工具类" class="headerlink" title="导入工具类"></a>导入工具类</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.demo.util;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.PushbackInputStream;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.poi.POIXMLDocument;</span><br><span class="line"><span class="keyword">import</span> org.apache.poi.hssf.usermodel.HSSFWorkbook;</span><br><span class="line"><span class="keyword">import</span> org.apache.poi.openxml4j.exceptions.InvalidFormatException;</span><br><span class="line"><span class="keyword">import</span> org.apache.poi.openxml4j.opc.OPCPackage;</span><br><span class="line"><span class="keyword">import</span> org.apache.poi.poifs.filesystem.POIFSFileSystem;</span><br><span class="line"><span class="keyword">import</span> org.apache.poi.ss.usermodel.Cell;</span><br><span class="line"><span class="keyword">import</span> org.apache.poi.ss.usermodel.DateUtil;</span><br><span class="line"><span class="keyword">import</span> org.apache.poi.ss.usermodel.Row;</span><br><span class="line"><span class="keyword">import</span> org.apache.poi.ss.usermodel.Sheet;</span><br><span class="line"><span class="keyword">import</span> org.apache.poi.ss.usermodel.Workbook;</span><br><span class="line"><span class="keyword">import</span> org.apache.poi.xssf.usermodel.XSSFCell;</span><br><span class="line"><span class="keyword">import</span> org.apache.poi.xssf.usermodel.XSSFWorkbook;</span><br><span class="line"><span class="keyword">import</span> org.slf4j.LoggerFactory;</span><br><span class="line"><span class="keyword">import</span> ch.qos.logback.classic.Logger;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExcelToEntityList</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> Logger log = (Logger) LoggerFactory.getLogger(<span class="keyword">this</span>.getClass());</span><br><span class="line">	<span class="keyword">private</span> BeanStorage storage = <span class="keyword">new</span> BeanStorage();</span><br><span class="line">	<span class="keyword">private</span> SimpleDateFormat dateFormat = <span class="keyword">new</span> SimpleDateFormat(<span class="string">&quot;yyyy-MM-dd&quot;</span>);</span><br><span class="line">	<span class="keyword">private</span> StringBuffer error = <span class="keyword">new</span> StringBuffer(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 包含headMapping信息已经前端传过来的扩展信息</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> entity  		一行excel内容要转换为何种对象</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> excel	  		excel输入流</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> titleToAttr	key为excel的中文title，value为该中文title对于的entity属性名</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@throws</span> IOException</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@throws</span> ClassNotFoundException</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@throws</span> InstantiationException</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@throws</span> IllegalAccessException</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@throws</span> InvalidFormatException</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span>  &lt;T&gt; <span class="function">ArrayList&lt;T&gt; <span class="title">transform</span><span class="params">(Class&lt;?&gt; entity,InputStream excel,Map&lt;String,String&gt; titleToAttr)</span> <span class="keyword">throws</span> IOException, ClassNotFoundException, InstantiationException, IllegalAccessException, InvalidFormatException</span>&#123;</span><br><span class="line">		ArrayList&lt;T&gt; result = <span class="keyword">new</span> ArrayList&lt;T&gt;();</span><br><span class="line"></span><br><span class="line">		Workbook book = create(excel);</span><br><span class="line">		Sheet sheet = book.getSheetAt(<span class="number">0</span>);</span><br><span class="line">	    <span class="keyword">int</span> rowCount = sheet.getLastRowNum();</span><br><span class="line">	    <span class="keyword">if</span>(rowCount &lt; <span class="number">1</span>)&#123;</span><br><span class="line">			<span class="keyword">return</span> result;</span><br><span class="line">		&#125;</span><br><span class="line">	    <span class="comment">//加载标题栏数据,以此和headMapping对应</span></span><br><span class="line">	    Map&lt;Integer, String&gt; headTitle = loadHeadTitle(sheet);</span><br><span class="line">	    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=rowCount;i++)&#123;</span><br><span class="line">	    	Row row = sheet.getRow(i);</span><br><span class="line">	    	<span class="comment">//空行跳过</span></span><br><span class="line">	    	<span class="keyword">if</span>(row==<span class="keyword">null</span>)&#123;</span><br><span class="line">	    		<span class="keyword">continue</span>;</span><br><span class="line">	    	&#125;</span><br><span class="line">			<span class="keyword">int</span> cellCount = row.getLastCellNum();</span><br><span class="line">			<span class="meta">@SuppressWarnings(&quot;unchecked&quot;)</span></span><br><span class="line">			T instance = (T) entity.newInstance();</span><br><span class="line">			<span class="keyword">int</span> col = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">		    	<span class="keyword">for</span>(;col&lt;cellCount;col++)&#123;</span><br><span class="line">					String cellValue = getCellValue(row.getCell(col));</span><br><span class="line">					<span class="keyword">if</span>(<span class="keyword">null</span>!=cellValue)&#123;</span><br><span class="line">						<span class="keyword">this</span>.setEntity(entity, instance,titleToAttr.get(headTitle.get(col)), cellValue);</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">				result.add(instance);</span><br><span class="line">			&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">				<span class="comment">//excel.close();</span></span><br><span class="line">				e.printStackTrace();</span><br><span class="line">				<span class="keyword">this</span>.error.append(<span class="string">&quot;第&quot;</span>+ (i+<span class="number">1</span>) +<span class="string">&quot;行，&quot;</span>+ headTitle.get(col)+<span class="string">&quot;字段，数据错误，跳过！&quot;</span>).append(<span class="string">&quot;&lt;br&gt;&quot;</span>);</span><br><span class="line">				log.error(<span class="string">&quot;第&quot;</span>+ (i+<span class="number">1</span>) +<span class="string">&quot;行，&quot;</span>+ headTitle.get(col)+<span class="string">&quot;字段，数据错误，跳过！&quot;</span>);</span><br><span class="line">			&#125;</span><br><span class="line">	    &#125;</span><br><span class="line">	    excel.close();</span><br><span class="line">	    <span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 加载Excel的标题栏</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> sheet</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span> 返回列序号和对于的标题名称Map</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">private</span> Map&lt;Integer,String&gt; <span class="title">loadHeadTitle</span><span class="params">(Sheet sheet)</span></span>&#123;</span><br><span class="line">		Map&lt;Integer,String&gt; map = <span class="keyword">new</span> HashMap&lt;Integer, String&gt;();</span><br><span class="line">		Row row = sheet.getRow(<span class="number">0</span>);</span><br><span class="line">		<span class="keyword">int</span> cellCount= row.getLastCellNum();</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; cellCount; i++)&#123;</span><br><span class="line">			String value = row.getCell(i).getStringCellValue();</span><br><span class="line">			<span class="keyword">if</span>(<span class="keyword">null</span> == value)&#123;</span><br><span class="line">				<span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">&quot;Excel导入：标题栏不能为空！&quot;</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			map.put(i, value);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> map;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 获取表格列的值</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> cell</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">private</span> String <span class="title">getCellValue</span><span class="params">(Cell cell)</span></span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(<span class="keyword">null</span>==cell)&#123;<span class="keyword">return</span> <span class="string">&quot;&quot;</span>;&#125;</span><br><span class="line">		String value = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">switch</span> (cell.getCellType())&#123;</span><br><span class="line">		<span class="keyword">case</span> XSSFCell.CELL_TYPE_BOOLEAN:</span><br><span class="line">			value = String.valueOf(cell.getBooleanCellValue());</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> XSSFCell.CELL_TYPE_NUMERIC:</span><br><span class="line">			<span class="comment">// 判断当前的cell是否为Date</span></span><br><span class="line">			<span class="keyword">if</span> (DateUtil.isCellDateFormatted(cell))&#123;</span><br><span class="line">				value = dateFormat.format(cell.getDateCellValue());</span><br><span class="line">			&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">				value = String.valueOf((<span class="keyword">long</span>) cell.getNumericCellValue());</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> XSSFCell.CELL_TYPE_STRING:</span><br><span class="line">			value = cell.getStringCellValue();</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> XSSFCell.CELL_TYPE_FORMULA:</span><br><span class="line">			log.debug(<span class="string">&quot;不支持函数！&quot;</span>);</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> value;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> &lt;T&gt; <span class="function"><span class="keyword">void</span> <span class="title">setEntity</span><span class="params">(Class&lt;?&gt; clazz, T instance, String pro, String value)</span> <span class="keyword">throws</span> SecurityException, NoSuchMethodException, Exception</span>&#123;</span><br><span class="line">		String innerPro = <span class="keyword">null</span>;</span><br><span class="line">		String outterPro = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">if</span> (pro.contains(<span class="string">&quot;.&quot;</span>))&#123;</span><br><span class="line">			String[] pros = pro.split(<span class="string">&quot;\\.&quot;</span>);</span><br><span class="line">			outterPro = pros[<span class="number">0</span>];</span><br><span class="line">			innerPro = pros[<span class="number">1</span>];</span><br><span class="line">			<span class="comment">// 将成员变量的类型存储到仓库中</span></span><br><span class="line">			storage.storeClass(instance.hashCode() + outterPro, clazz.getDeclaredMethod(<span class="keyword">this</span>.initGetMethod(outterPro), <span class="keyword">null</span>).getReturnType());</span><br><span class="line">		&#125;</span><br><span class="line">		String getMethod = <span class="keyword">this</span>.initGetMethod(outterPro!=<span class="keyword">null</span>?outterPro:pro);</span><br><span class="line">		Class&lt;?&gt; type = clazz.getDeclaredMethod(getMethod, <span class="keyword">null</span>).getReturnType();</span><br><span class="line">		Method method = clazz.getMethod(<span class="keyword">this</span>.initSetMethod(outterPro!=<span class="keyword">null</span>?outterPro:pro), type);</span><br><span class="line">		<span class="keyword">if</span> (type == String.class)&#123;</span><br><span class="line">			method.invoke(instance, value);</span><br><span class="line">		&#125;<span class="keyword">else</span> <span class="keyword">if</span> (type == <span class="keyword">int</span>.class || type == Integer.class)&#123;</span><br><span class="line">			method.invoke(instance, Integer.parseInt(<span class="string">&quot;&quot;</span>.equals(value) ? <span class="string">&quot;0&quot;</span> : value));</span><br><span class="line">		&#125;<span class="keyword">else</span> <span class="keyword">if</span> (type == <span class="keyword">long</span>.class || type == Long.class)&#123;</span><br><span class="line">			method.invoke(instance, Long.parseLong(<span class="string">&quot;&quot;</span>.equals(value) ? <span class="string">&quot;0&quot;</span> : value));</span><br><span class="line">		&#125;<span class="keyword">else</span> <span class="keyword">if</span> (type == <span class="keyword">float</span>.class || type == Float.class)&#123;</span><br><span class="line">			method.invoke(instance, Float.parseFloat(<span class="string">&quot;&quot;</span>.equals(value) ? <span class="string">&quot;0&quot;</span> : value));</span><br><span class="line">		&#125;<span class="keyword">else</span> <span class="keyword">if</span> (type == <span class="keyword">double</span>.class || type == Double.class)&#123;</span><br><span class="line">			method.invoke(instance, Double.parseDouble(<span class="string">&quot;&quot;</span>.equals(value) ? <span class="string">&quot;0&quot;</span> : value));</span><br><span class="line">		&#125;<span class="keyword">else</span> <span class="keyword">if</span> (type == Date.class)&#123;</span><br><span class="line">			method.invoke(instance, dateFormat.parse(value));</span><br><span class="line">		&#125;<span class="keyword">else</span> <span class="keyword">if</span> (type == <span class="keyword">boolean</span>.class|| type == Boolean.class)&#123;</span><br><span class="line">			method.invoke(instance, Boolean.parseBoolean(<span class="string">&quot;&quot;</span>.equals(value) ? <span class="string">&quot;false&quot;</span> : value));</span><br><span class="line">		&#125;<span class="keyword">else</span> <span class="keyword">if</span> (type == <span class="keyword">byte</span>.class|| type == Byte.class)&#123;</span><br><span class="line">			method.invoke(instance, Byte.parseByte(value));</span><br><span class="line">		&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">			<span class="comment">// 引用类型数据</span></span><br><span class="line">			Object ins = storage.getInstance(instance.hashCode() + outterPro);</span><br><span class="line">			<span class="keyword">this</span>.setEntity(ins.getClass(), ins, innerPro, value);</span><br><span class="line">			method.invoke(instance, ins);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">initSetMethod</span><span class="params">(String field)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">&quot;set&quot;</span> + field.substring(<span class="number">0</span>, <span class="number">1</span>).toUpperCase() + field.substring(<span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">initGetMethod</span><span class="params">(String field)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">&quot;get&quot;</span> + field.substring(<span class="number">0</span>, <span class="number">1</span>).toUpperCase() + field.substring(<span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span> true 存在错误，false 不存在错误</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasError</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> error.capacity() &gt; <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> StringBuffer <span class="title">getError</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> error;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 存储bean中的bean成员变量</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">BeanStorage</span></span></span><br><span class="line"><span class="class">	</span>&#123;</span><br><span class="line">		<span class="keyword">private</span> Map&lt;String, Object&gt; instances = <span class="keyword">new</span> HashMap&lt;String, Object&gt;();</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">storeClass</span><span class="params">(String key, Class&lt;?&gt; clazz)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">			<span class="keyword">if</span> (!instances.containsKey(key))&#123;</span><br><span class="line">				instances.put(key, clazz.newInstance());</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> Object <span class="title">getInstance</span><span class="params">(String key)</span></span>&#123;</span><br><span class="line">			<span class="keyword">return</span> instances.get(key);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//2003、2007兼容处理</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span>  Workbook <span class="title">create</span><span class="params">(InputStream inp)</span> <span class="keyword">throws</span> IOException,InvalidFormatException </span>&#123;</span><br><span class="line">	    <span class="keyword">if</span> (!inp.markSupported()) &#123;</span><br><span class="line">	        inp = <span class="keyword">new</span> PushbackInputStream(inp, <span class="number">8</span>);</span><br><span class="line">	    &#125;</span><br><span class="line">	    <span class="keyword">if</span> (POIFSFileSystem.hasPOIFSHeader(inp)) &#123;</span><br><span class="line">	        <span class="keyword">return</span> <span class="keyword">new</span> HSSFWorkbook(inp);</span><br><span class="line">	    &#125;</span><br><span class="line">	    <span class="keyword">if</span> (POIXMLDocument.hasOOXMLHeader(inp)) &#123;</span><br><span class="line">	        <span class="keyword">return</span> <span class="keyword">new</span> XSSFWorkbook(OPCPackage.open(inp));</span><br><span class="line">	    &#125;</span><br><span class="line">	    <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;你的excel版本目前poi解析不了&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="使用方式"><a href="#使用方式" class="headerlink" title="使用方式"></a>使用方式</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//前端部分提交excel文件与该对应关系到后端</span></span><br><span class="line"><span class="keyword">var</span> mapping = &#123;</span><br><span class="line">    <span class="string">&quot;EntityClassName&quot;</span>:<span class="string">&quot;com.demo.entity.User&quot;</span>,</span><br><span class="line">    <span class="string">&quot;用户编号&quot;</span>:<span class="string">&quot;userCode&quot;</span>,<span class="string">&quot;用户名称&quot;</span>:<span class="string">&quot;userName&quot;</span>,</span><br><span class="line">    <span class="string">&quot;电话&quot;</span>:<span class="string">&quot;phone&quot;</span>,<span class="string">&quot;地址&quot;</span>:<span class="string">&quot;address&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*后端部分在servlet中接收excel与excel头与entity属性的对应关系*/</span></span><br><span class="line"><span class="comment">//接收对应关系参数</span></span><br><span class="line">HashMap&lt;String, String&gt; param = JSON.parseObject(URLDecoder.decode(request.getParameter(<span class="string">&quot;mapping&quot;</span>), <span class="string">&quot;utf-8&quot;</span>), HashMap.class);</span><br><span class="line">ExcelToEntityList excel = <span class="keyword">new</span> ExcelToEntityList();</span><br><span class="line"><span class="comment">//把excel文件内容转换为List对象</span></span><br><span class="line">ArrayList&lt;?&gt; list = excel.transform(Class.forName(param.get(<span class="string">&quot;EntityClassName&quot;</span>)), request.getPart(<span class="string">&quot;file&quot;</span>).getInputStream(), param);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="二、导出"><a href="#二、导出" class="headerlink" title="二、导出"></a>二、导出</h3><h4 id="导入工具类-1"><a href="#导入工具类-1" class="headerlink" title="导入工具类"></a>导入工具类</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.demo.util;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStream;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.InvocationTargetException;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.regex.Matcher;</span><br><span class="line"><span class="keyword">import</span> java.util.regex.Pattern;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.poi.hssf.usermodel.HSSFCell;</span><br><span class="line"><span class="keyword">import</span> org.apache.poi.hssf.usermodel.HSSFClientAnchor;</span><br><span class="line"><span class="keyword">import</span> org.apache.poi.hssf.usermodel.HSSFComment;</span><br><span class="line"><span class="keyword">import</span> org.apache.poi.hssf.usermodel.HSSFFont;</span><br><span class="line"><span class="keyword">import</span> org.apache.poi.hssf.usermodel.HSSFPatriarch;</span><br><span class="line"><span class="keyword">import</span> org.apache.poi.hssf.usermodel.HSSFRichTextString;</span><br><span class="line"><span class="keyword">import</span> org.apache.poi.hssf.usermodel.HSSFRow;</span><br><span class="line"><span class="keyword">import</span> org.apache.poi.hssf.usermodel.HSSFSheet;</span><br><span class="line"><span class="keyword">import</span> org.apache.poi.hssf.usermodel.HSSFWorkbook;</span><br><span class="line"><span class="keyword">import</span> org.apache.poi.hssf.util.HSSFColor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EntityListToExcel</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> StringBuffer error = <span class="keyword">new</span> StringBuffer(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 将实体类列表entityList转换成excel</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> param 包含headMapping信息，key为属性名，value为列名&lt;br&gt;</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> entityList</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> excel</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@throws</span> NoSuchMethodException</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@throws</span> SecurityException</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@throws</span> IllegalAccessException</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@throws</span> IllegalArgumentException</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@throws</span> InvocationTargetException</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@throws</span> IOException</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> &lt;T&gt; <span class="function"><span class="keyword">boolean</span> <span class="title">transform</span><span class="params">(Map&lt;String, String&gt; param, List&lt;T&gt; entityList,OutputStream excel)</span> <span class="keyword">throws</span> NoSuchMethodException,</span></span><br><span class="line"><span class="function">			SecurityException, IllegalAccessException,</span></span><br><span class="line"><span class="function">			IllegalArgumentException, InvocationTargetException, IOException </span>&#123;</span><br><span class="line">		<span class="comment">// 声明一个工作薄</span></span><br><span class="line">		HSSFWorkbook workbook = <span class="keyword">new</span> HSSFWorkbook();</span><br><span class="line">		<span class="comment">// 生成一个表格</span></span><br><span class="line">		HSSFSheet sheet = workbook.createSheet();</span><br><span class="line">		<span class="comment">// 设置表格默认列宽度为15个字节</span></span><br><span class="line">		sheet.setDefaultColumnWidth(<span class="number">15</span>);</span><br><span class="line">		<span class="comment">// 声明一个画图的顶级管理器</span></span><br><span class="line">		HSSFPatriarch patriarch = sheet.createDrawingPatriarch();</span><br><span class="line">		<span class="comment">// 定义注释的大小和位置,详见文档</span></span><br><span class="line">		HSSFComment comment = patriarch.createComment(<span class="keyword">new</span> HSSFClientAnchor(<span class="number">0</span>,</span><br><span class="line">				<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, (<span class="keyword">short</span>) <span class="number">4</span>, <span class="number">2</span>, (<span class="keyword">short</span>) <span class="number">6</span>, <span class="number">5</span>));</span><br><span class="line">		<span class="comment">// 设置注释内容</span></span><br><span class="line">		comment.setString(<span class="keyword">new</span> HSSFRichTextString(<span class="string">&quot;可以在POI中添加注释！&quot;</span>));</span><br><span class="line">		<span class="comment">// 设置注释作者，当鼠标移动到单元格上是可以在状态栏中看到该内容.</span></span><br><span class="line">		comment.setAuthor(<span class="string">&quot;admin&quot;</span>);</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 产生表格标题行</span></span><br><span class="line">		HSSFRow row = sheet.createRow(<span class="number">0</span>);</span><br><span class="line">		<span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">		List&lt;String&gt; proList = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">		HSSFFont blueFont = workbook.createFont();</span><br><span class="line">		blueFont.setColor(HSSFColor.BLUE.index);</span><br><span class="line">		<span class="keyword">for</span> (Map.Entry&lt;String, String&gt; entry : param.entrySet()) &#123;</span><br><span class="line">			HSSFCell cell = row.createCell(i);</span><br><span class="line">			HSSFRichTextString text = <span class="keyword">new</span> HSSFRichTextString(entry.getValue());</span><br><span class="line">			text.applyFont(blueFont);</span><br><span class="line">			cell.setCellValue(text);</span><br><span class="line">			proList.add(entry.getKey());</span><br><span class="line">			i++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">// 遍历集合数据，产生数据行</span></span><br><span class="line">		Iterator&lt;T&gt; it = entityList.iterator();</span><br><span class="line">		<span class="keyword">int</span> index = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span> (it.hasNext()) &#123;</span><br><span class="line">			index++;</span><br><span class="line">			row = sheet.createRow(index);</span><br><span class="line">			T t = (T) it.next();</span><br><span class="line">			<span class="comment">// 利用反射，根据javabean属性的先后顺序，动态调用getXxx()方法得到属性值</span></span><br><span class="line">			<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; proList.size(); i++) &#123;</span><br><span class="line">				HSSFCell cell = row.createCell(i);</span><br><span class="line">				String propertyName = proList.get(i);</span><br><span class="line">				String textValue = <span class="keyword">null</span>;</span><br><span class="line">				<span class="keyword">try</span> &#123;</span><br><span class="line">					textValue = <span class="keyword">this</span>.getPropertyValue(t, propertyName);</span><br><span class="line">				&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">					e.printStackTrace();</span><br><span class="line">					<span class="keyword">this</span>.error.append(<span class="string">&quot;第&quot;</span>).append(index+<span class="number">1</span>).append(<span class="string">&quot;行，列名：&quot;</span>).append(param.get(propertyName)).append(<span class="string">&quot;，字段：&quot;</span>).append(propertyName).append(<span class="string">&quot;，数据错误，跳过！&quot;</span>).append(<span class="string">&quot;&lt;br&gt;&quot;</span>);</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="comment">// 利用正则表达式判断textValue是否全部由数字组成</span></span><br><span class="line">				<span class="keyword">if</span> (textValue != <span class="keyword">null</span>) &#123;</span><br><span class="line">					Pattern p = Pattern.compile(<span class="string">&quot;^//d+(//.//d+)?$&quot;</span>);</span><br><span class="line">					Matcher matcher = p.matcher(textValue);</span><br><span class="line">					<span class="keyword">if</span> (matcher.matches()) &#123;</span><br><span class="line">						<span class="comment">// 是数字当作double处理</span></span><br><span class="line">						cell.setCellValue(Double.parseDouble(textValue));</span><br><span class="line">					&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">						HSSFRichTextString richString = <span class="keyword">new</span> HSSFRichTextString(</span><br><span class="line">								textValue);</span><br><span class="line">						cell.setCellValue(richString);</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line">		workbook.write(excel);</span><br><span class="line">		workbook.close();</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 获取实体instance的propertyName属性的值</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> instance</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> propertyName</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@throws</span> NoSuchMethodException</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@throws</span> SecurityException</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@throws</span> IllegalAccessException</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@throws</span> IllegalArgumentException</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@throws</span> InvocationTargetException</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">private</span> &lt;T&gt; <span class="function">String <span class="title">getPropertyValue</span><span class="params">(T instance, String propertyName)</span></span></span><br><span class="line"><span class="function">			<span class="keyword">throws</span> NoSuchMethodException, SecurityException,</span></span><br><span class="line"><span class="function">			IllegalAccessException, IllegalArgumentException,</span></span><br><span class="line"><span class="function">			InvocationTargetException </span>&#123;</span><br><span class="line"></span><br><span class="line">		String getMethodName = <span class="keyword">this</span>.initGetMethod(propertyName);</span><br><span class="line">		Class&lt;?&gt; tCls = instance.getClass();</span><br><span class="line">		Method getMethod = <span class="keyword">null</span>;</span><br><span class="line">		Object value = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">		getMethod = tCls.getMethod(getMethodName, <span class="keyword">new</span> Class[] &#123;&#125;);</span><br><span class="line">		value = getMethod.invoke(instance, <span class="keyword">new</span> Object[] &#123;&#125;);</span><br><span class="line"></span><br><span class="line">		String returnType = getMethod.getReturnType().getName();</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 判断值的类型后进行强制类型转换</span></span><br><span class="line">		SimpleDateFormat dateFormat=<span class="keyword">new</span> SimpleDateFormat(<span class="string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>);</span><br><span class="line">		String textValue = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">if</span> (<span class="string">&quot;java.util.Date&quot;</span>.equals(returnType)) &#123;</span><br><span class="line">			textValue = dateFormat.format(value);</span><br><span class="line">		&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">			textValue = value.toString();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> textValue;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 返回fiel属性的getXXX方法字符串</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> field</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">private</span> String <span class="title">initGetMethod</span><span class="params">(String field)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">&quot;get&quot;</span> + field.substring(<span class="number">0</span>, <span class="number">1</span>).toUpperCase() + field.substring(<span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span> true 存在错误，false 不存在错误</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasError</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> error.capacity() &gt; <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 获得错误信息</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> StringBuffer <span class="title">getError</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> error;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="使用方式-1"><a href="#使用方式-1" class="headerlink" title="使用方式"></a>使用方式</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Servlet中设置返回类型</span></span><br><span class="line">response.setContentType(<span class="string">&quot;application/vnd.ms-excel;charset=UTF-8&quot;</span>);</span><br><span class="line"><span class="comment">//这里也可以通过前端传过来</span></span><br><span class="line">LinkedHashMap&lt;String, String&gt; header = <span class="keyword">new</span> LinkedHashMap&lt;String, String&gt;();</span><br><span class="line">header.put(<span class="string">&quot;userCode&quot;</span>, <span class="string">&quot;用户编码&quot;</span>);</span><br><span class="line">header.put(<span class="string">&quot;userName&quot;</span>, <span class="string">&quot;用户名&quot;</span>);</span><br><span class="line">header.put(<span class="string">&quot;phone&quot;</span>, <span class="string">&quot;电话&quot;</span>);</span><br><span class="line">header.put(<span class="string">&quot;address&quot;</span>, <span class="string">&quot;地址&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//数据导出为excel</span></span><br><span class="line">EntityListToExcel excel =  = <span class="keyword">new</span> EntityListToExcel();</span><br><span class="line"><span class="comment">//这里的entityList为要转换为excel行的数据列表</span></span><br><span class="line">excel.transform(header, entityList, response.getOutputStream());</span><br><span class="line"></span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://muchstudy.com/2016/09/24/Excel%E5%AF%BC%E5%85%A5%E5%AF%BC%E5%87%BA/" data-id="cm5tqeeu1001uwayp9qxahe7o" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/POI/" rel="tag">POI</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%B7%A5%E5%85%B7%E7%B1%BB/" rel="tag">工具类</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-排序算法" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/09/11/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/" class="article-date">
  <time datetime="2016-09-11T06:53:39.000Z" itemprop="datePublished">2016-09-11</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/11/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/">排序算法</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>最近需要写一个排序算法，很久没写发现有些生疏了，抽时间用JavaScript实现了几种常用的排序算法，以备不时之需。</p>
</blockquote>
<h3 id="一、快速排序"><a href="#一、快速排序" class="headerlink" title="一、快速排序"></a>一、快速排序</h3><blockquote>
<p>步骤：</p>
</blockquote>
<ol>
<li>在数据集之中，选择一个元素作为”基准”（pivot）。</li>
<li>所有小于”基准”的元素，都移到”基准”的左边；所有大于”基准”的元素，都移到”基准”的右边。</li>
<li>对”基准”左边和右边的两个子集，不断重复第一步和第二步，直到所有子集只剩下一个元素为止。</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 快速排序</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="variable">arr</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns <span class="variable">Array</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> count = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">var</span> arr   = [<span class="number">55</span>,<span class="number">1</span>,<span class="number">22</span>,<span class="number">77</span>,<span class="number">99</span>,<span class="number">11</span>,<span class="number">88</span>,<span class="number">33</span>,<span class="number">66</span>,<span class="number">44</span>];</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">quickSort</span>(<span class="params">arr</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//递推跳出</span></span><br><span class="line">    <span class="keyword">if</span> (arr.length &lt;= <span class="number">1</span>) &#123; <span class="keyword">return</span> arr; &#125;</span><br><span class="line">    <span class="comment">//首先定义“基准”左右数据的数组</span></span><br><span class="line">    <span class="keyword">var</span> left    = [];</span><br><span class="line">    <span class="keyword">var</span> right   = [];</span><br><span class="line">    <span class="comment">//选择第一个元素作为基准元素(基准元素可以为任意一个元素)</span></span><br><span class="line">    <span class="keyword">var</span> pivot   = arr[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">var</span> len     = arr.length;</span><br><span class="line">    <span class="comment">//由于取了第一个元素，所以从第二个元素开始循环</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">1</span>;i&lt;len;i++)&#123;</span><br><span class="line">        <span class="keyword">var</span> item = arr[i];</span><br><span class="line">        <span class="comment">//大于基准的放右边，小于基准的放左边</span></span><br><span class="line">        item&gt;pivot ? right.push(item) : left.push(item);</span><br><span class="line">        count++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//递归左右数组</span></span><br><span class="line">    <span class="keyword">return</span> quickSort(left).concat([pivot],quickSort(right));</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(quickSort(arr));</span><br><span class="line"><span class="built_in">console</span>.log(count);  <span class="comment">//21</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="二、插入排序"><a href="#二、插入排序" class="headerlink" title="二、插入排序"></a>二、插入排序</h3><blockquote>
<p>步骤：</p>
</blockquote>
<ol>
<li>从第一个元素开始，该元素可以认为已经被排序</li>
<li>取出下一个元素，在已经排序的元素序列中从后向前扫描</li>
<li>如果被扫描的元素（已排序）大于新元素，将该元素后移一位</li>
<li>重复步骤3，直到找到已排序的元素小于或者等于新元素的位置</li>
<li>将新元素插入到该位置后</li>
<li>重复步骤2~5</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 插入排序</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="variable">arr</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns <span class="variable">Array</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> count = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">var</span> arr   = [<span class="number">55</span>,<span class="number">1</span>,<span class="number">22</span>,<span class="number">77</span>,<span class="number">99</span>,<span class="number">11</span>,<span class="number">88</span>,<span class="number">33</span>,<span class="number">66</span>,<span class="number">44</span>];</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">insertSort</span>(<span class="params">arr</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> sorted  = [];</span><br><span class="line">    <span class="comment">//把数组中的第一个元素定义为已排序元素</span></span><br><span class="line">    sorted.push(arr[<span class="number">0</span>]);</span><br><span class="line">    <span class="comment">//不断取未排序的元素插入到已排序元素中</span></span><br><span class="line">    <span class="keyword">var</span> len = arr.length;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i= <span class="number">1</span>;i&lt;len;i++)&#123;</span><br><span class="line">        <span class="keyword">var</span> item        = arr[i];</span><br><span class="line">        <span class="comment">//在已经排序的元素序列中从后向前扫描</span></span><br><span class="line">        <span class="keyword">var</span> flag    = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">var</span> j       = sorted.length-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(j;j&gt;=<span class="number">0</span>;j--)&#123;</span><br><span class="line">            <span class="comment">//直到比自己小的元素，就把自己放在该元素后面</span></span><br><span class="line">            <span class="keyword">if</span>(item&gt;sorted[j])&#123;</span><br><span class="line">                <span class="comment">//插入到元素之后</span></span><br><span class="line">                sorted.splice(j+<span class="number">1</span>,<span class="number">0</span>,item);</span><br><span class="line">                flag = <span class="literal">false</span>;</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            &#125;</span><br><span class="line">            count++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//自己最小，直接放到第一个位置</span></span><br><span class="line">        <span class="keyword">if</span>(flag)&#123;sorted.splice(<span class="number">0</span>,<span class="number">0</span>,item);&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sorted;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(insertSort(arr));</span><br><span class="line"><span class="built_in">console</span>.log(count);  <span class="comment">//19</span></span><br></pre></td></tr></table></figure>

<p>排序演示：</p>
<img src="/2016/09/11/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F.gif" class="" title="插入排序">

<h3 id="三、冒泡排序"><a href="#三、冒泡排序" class="headerlink" title="三、冒泡排序"></a>三、冒泡排序</h3><blockquote>
<p>步骤：</p>
</blockquote>
<ol>
<li>比较相邻的元素。如果第一个比第二个大，就交换他们两个。</li>
<li>对第0个到第n-1个数据做同样的工作。这时，最大的数就“浮”到了数组最后的位置上。</li>
<li>针对所有的元素重复以上的步骤，除了最后一个。</li>
<li>持续每次对越来越少的元素重复上面的步骤，直到没有任何一对数字需要比较。</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 冒泡排序</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="variable">arr</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns <span class="variable">Array</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> count = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">var</span> arr   = [<span class="number">55</span>,<span class="number">1</span>,<span class="number">22</span>,<span class="number">77</span>,<span class="number">99</span>,<span class="number">11</span>,<span class="number">88</span>,<span class="number">33</span>,<span class="number">66</span>,<span class="number">44</span>];</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bubbleSort</span>(<span class="params">arr</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> len = arr.length;</span><br><span class="line">    <span class="keyword">var</span> temp= [];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;len;i++)&#123;</span><br><span class="line">        <span class="comment">//每一次的最后结果都是最大的元素放到了最后</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> j=<span class="number">0</span>;j&lt;len-i-<span class="number">1</span>;j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(arr[j]&gt;arr[j+<span class="number">1</span>])&#123;</span><br><span class="line">                temp    = arr[j];</span><br><span class="line">                arr[j]  = arr[j+<span class="number">1</span>];</span><br><span class="line">                arr[j+<span class="number">1</span>]= temp;</span><br><span class="line">            &#125;</span><br><span class="line">            count++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(bubbleSort(arr));</span><br><span class="line"><span class="built_in">console</span>.log(count);  <span class="comment">//45</span></span><br></pre></td></tr></table></figure>

<h3 id="四、时间复杂度"><a href="#四、时间复杂度" class="headerlink" title="四、时间复杂度"></a>四、时间复杂度</h3><blockquote>
<p>来自于<a target="_blank" rel="noopener" href="http://wuchong.me/blog/2014/02/09/algorithm-sort-summary/">这里<a></p>
</blockquote>
<img src="/2016/09/11/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6.jpg" class="" title="时间复杂度">

      
    </div>
    <footer class="article-footer">
      <a data-url="http://muchstudy.com/2016/09/11/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/" data-id="cm5tqeetx001jwayphgn23c0a" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/" rel="tag">排序算法</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-《黄金时代》-王小波" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/09/11/%E3%80%8A%E9%BB%84%E9%87%91%E6%97%B6%E4%BB%A3%E3%80%8B-%E7%8E%8B%E5%B0%8F%E6%B3%A2/" class="article-date">
  <time datetime="2016-09-11T02:26:26.000Z" itemprop="datePublished">2016-09-11</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Life/">Life</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/11/%E3%80%8A%E9%BB%84%E9%87%91%E6%97%B6%E4%BB%A3%E3%80%8B-%E7%8E%8B%E5%B0%8F%E6%B3%A2/">《黄金时代》-王小波</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <img src="/2016/09/11/%E3%80%8A%E9%BB%84%E9%87%91%E6%97%B6%E4%BB%A3%E3%80%8B-%E7%8E%8B%E5%B0%8F%E6%B3%A2/%E9%BB%84%E9%87%91%E6%97%B6%E4%BB%A3.jpg" class="" title="《黄金时代》-王小波">

<p>&emsp;&emsp;在这之前没有看过王小波的书，只闻其名。看过这本书之后，的确眼前一亮，文章原来还能这么写！<br>&emsp;&emsp;这本书是由几篇文章组合而成，但是每篇文章的都有一个叫“王二”的主人公。<br>&emsp;&emsp;另外，从某个角度看，这还是一本小黄书，不乏血液喷张的内容，笑点还很多。但深思之后就会发现那是一个混乱、无奈、扭曲的时代。一想到这，就怎么也笑不起来。  </p>
<p>下面放一些看书过程中的一些摘录整理：  </p>
<ul>
<li><p>那一天我二十一岁，在我一生的黄金时代，我有好多奢望。我想爱，想吃，还想在一瞬间变成天上半明半暗的云。后来我才知道，生活就是个缓慢受槌的过程，人一天天老下去，奢望也一天天消失，最后变得像挨了槌的牛一样。可是我过二十一岁生日时没有预见到这一点。我觉得自己会永远生猛下去，什么也捶不了我。</p>
<blockquote>
<p>这句话应该是本书流传得最广的一句话，年轻时都有一段青葱岁月，然而始终会有挨捶地一天。</p>
</blockquote>
</li>
<li><p>我坐在小屋里，听着满山树叶哗哗响，终于到了物我两忘的境界。</p>
<blockquote>
<p>要达到<code>物我两忘</code>的境界很难</p>
</blockquote>
</li>
<li><p>仿佛在不久之前，我还是初一的学生。放学时在校门口和同学们打书包仗。我的书包打在人身上一声闷响，把人家摔出一米多远。原来我的书包里不光有书，还有一整块板砖。  </p>
<blockquote>
<p>从这句话就能看出整本书的风格了</p>
</blockquote>
</li>
<li><p>你一天天老下去，牛皮一天天紧起来。</p>
<blockquote>
<p>慢慢就到了挨捶地时候</p>
</blockquote>
</li>
<li><p>眼前就是罗得岛，我就在这里跳跃——我这么做什么都不为，这就是存在本身。</p>
<blockquote>
<p>一个哲学问题</p>
</blockquote>
</li>
<li><p>我要抱着草长马发情的伟大真诚去做一切事，而不是在人前羞羞答答地表演。在我看来，人都是为了要表演，失去了自己的存在。我说了很多，可一样也没照办。这就是我不肯想起那篇论文的原因。</p>
<blockquote>
<p>又一个我要成为谁的问题。</p>
</blockquote>
</li>
<li><p>忽然之间心底涌起强烈的渴望，前所未有：我要爱、要生活，把眼前的一世当做一百世一样。这里的道理很明白：我思故我在，既然我存在，就不能装作不存在。无论如何，我要对自己负起责任。</p>
<blockquote>
<p>生而为人，是一件很幸运的事情</p>
</blockquote>
</li>
<li><p>她尖叫一声，拿被子蒙上头，就在床上游仰泳。</p>
<blockquote>
<p>形象生动！</p>
</blockquote>
</li>
<li><p>人生是一条寂寞的路，要有一本有趣的书来消磨旅途。</p>
<blockquote>
<p>这本书就是”自己”</p>
</blockquote>
</li>
<li><p>我向来不怕得罪朋友，因为既是朋友。就不怕得罪，不能得罪的就不是朋友，这是我的一贯作风。由这一点你也可猜出，我的朋友为什么这么少。</p>
</li>
<li><p>他一定能体会到死亡的惨烈，也一定能体会死去时那种空前绝后的快感。</p>
<blockquote>
<p>大部分人往往不是“快感”，而是“恐惧”</p>
</blockquote>
</li>
<li><p>在此之前首先要解释一下什么叫似水流年。普鲁斯特写了一本书，谈到自己身上发生过的事。这些事看起来就如一个人中了邪躺在河底，眼看潺潺流水，粼粼流光，落叶，浮木，空玻璃瓶，一样一样从身上流过去。这个书名怎么译，翻译家大费周章。最近的译法是追忆似水年华。听上去普鲁斯特写书时已经死了多时，又诈了尸。</p>
</li>
<li><p>似水流年是一个人所有的一切，只有这个东西，才真正归你所有。其余的一切，都是片刻的欢娱和不幸，转眼间就已跑到那似水流年里去了。我所认识的人，都不珍视自己的似水流年。他们甚至不知道，自己还有这么一件东西，所以一个个像丢了魂一样。</p>
</li>
<li><p>人就是四十岁时最难过。那时候脑子很清楚，可以发现自己在变老。以后就糊里糊涂，不知老之将至。</p>
</li>
<li><p>叔本华说：人在四十岁之前，过得很慢，过了四十岁，过得就快了。</p>
</li>
<li><p>我一直在干这件事，可是线条说，我写的小说中只有好的事，回避了坏的事，不是似水流年的全貌，算不得直笔。如果真的去写似水流年，就必须把一切事都写出来，包括乍看不可置信的事，不敢写出这样的事情，就是媚俗。比如不敢写这样的事，就是媚俗。</p>
</li>
<li><p>小时候和王二一起玩的孩子各有各的毛病，有人喜欢掐别人的脖子，有的喜欢朝别人裆下踢，不知他们的毛病都好了没有。</p>
</li>
<li><p>我后来到美国留学时，给×教授编软件，文件名总叫“caonima”，caonima.1，caonima.2，等等。但是他总把第一个音节念成“考”，给我打电话说：考你妈一可以了，考你妈二还得往短里改。我就纠正他道：不是考你妈，操你妈。我们一共是四个研究生给他编程序，人人都恨他。这是因为按行算钱，他又不让编长。这种情形就叫做受压迫。毛主席教导我们说，有压迫就有反抗。所以就考你妈，就射精，就吐吐沫。</p>
</li>
<li><p>我们生活在漫漫寒夜，人生好似长途旅行。仰望天空寻找方向，天际却无引路的明星！</p>
</li>
<li><p>我觉得自己是个不会种地的农民，总是赶不上节气。</p>
<blockquote>
<p>这种体会很难受</p>
</blockquote>
</li>
<li><p>于是她就揉起眼睛来，那架势活像是猫洗脸；</p>
<blockquote>
<p>形象生动！</p>
</blockquote>
</li>
<li><p>走进了寂寞里，你就变成了黑夜里的巨灵神，想干啥就干啥，效率非常之高。你可以夜以继日地干任何事，不怕别人打断，直到事情干成。但是寂寞中也有让人不能忍受的时刻，那就是想说话时没有人听。</p>
</li>
<li><p>我以为自己的本分就是把小说写得尽量好看，而不应在作品里夹杂某些刻意说教。我的写作态度是写一些作品给读小说的人看，而不是去教诲不良的青年。</p>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://muchstudy.com/2016/09/11/%E3%80%8A%E9%BB%84%E9%87%91%E6%97%B6%E4%BB%A3%E3%80%8B-%E7%8E%8B%E5%B0%8F%E6%B3%A2/" data-id="cm5tqeetw001ewayp450f8qbm" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" rel="tag">读书笔记</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-安全算法梳理" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/09/04/%E5%AE%89%E5%85%A8%E7%AE%97%E6%B3%95%E6%A2%B3%E7%90%86/" class="article-date">
  <time datetime="2016-09-04T10:16:52.000Z" itemprop="datePublished">2016-09-04</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/HTTP/">HTTP</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/04/%E5%AE%89%E5%85%A8%E7%AE%97%E6%B3%95%E6%A2%B3%E7%90%86/">安全算法梳理</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>&emsp;&emsp;经常见到RSA、MD5、SHA系列算法，另外还有数字摘要、数字签名、数字证书等名词，以及对称加密与非对称加密。他们之间到底是什么关系呢？下面就通过这篇文章来梳理一下。</p>
</blockquote>
<h3 id="一、加密算法"><a href="#一、加密算法" class="headerlink" title="一、加密算法"></a>一、加密算法</h3><p>&emsp;&emsp;加密算法，简而言之就是一种能够把原始内容加密，然后再解密获得原始内容的算法。</p>
<img src="/2016/09/04/%E5%AE%89%E5%85%A8%E7%AE%97%E6%B3%95%E6%A2%B3%E7%90%86/%E5%8A%A0%E5%AF%86%E4%B8%8E%E8%A7%A3%E5%AF%86.jpg" class="" title="加密与解密">

<p><a target="_blank" rel="noopener" href="http://baike.baidu.com/view/155969.htm">加密算法</a>可以划分为如下两类：</p>
<h4 id="1-对称加密"><a href="#1-对称加密" class="headerlink" title="1.对称加密"></a>1.对称加密</h4><p>&emsp;&emsp;对称加密可以理解为加密与解密都使用同一套算法（即密钥）。</p>
<img src="/2016/09/04/%E5%AE%89%E5%85%A8%E7%AE%97%E6%B3%95%E6%A2%B3%E7%90%86/%E5%BE%AA%E7%8E%AF%E7%A7%BB%E4%BD%8D%E7%AE%97%E6%B3%95.jpg" class="" title="循环移位算法">

<p>&emsp;&emsp;上图是一个经典对称加密算法。采用字母移位的办法对原始字符串进行转换，解密时再根据之前的移位,转换为原始字符串。可以根据此种算法，设计一个密码机，输入移位n，自动进行编码与解码。<br>&emsp;&emsp;在谍战电视剧中经常出现你争我抢的密码本，加密与解密双方使用同一个密码本对要传递的内容进行加解密，这也是一种对称加密算法。<br>&emsp;&emsp;对于对称加密在实际使用中的问题，可以通过如下样例来说明。<br>&emsp;&emsp;假如淘宝网的登录密码传输部分使用的是对称加密算法。此时，张三、李四、还有王五同学需要访问淘宝。那么，服务器就需要生成3个不同的密钥，比如张三的密钥为移5位，李四的密钥为移6位。如果全部都用一个密钥，显然张三用自己的密钥可以解密其它人加密后的密码。对于服务器来讲，有多少个用户就得维护多少组密钥，这样做显然是不合理的。  </p>
<blockquote>
<ol>
<li>常用的对称加密算法有：DES、3DES、TDEA、Blowfish、RC2、RC4、RC5、IDEA、SKIPJACK、AES等。  </li>
<li>百度百科：<a target="_blank" rel="noopener" href="http://baike.baidu.com/link?url=0qjwcCKyQIEi1v9AQFWCZgM0xC-rB8D4xNwEg1zxBMywtgwILONBk4ex0l2CQ2HcnaZi5fAy5YfXxP4FpLz5nK">对称加密</a></li>
</ol>
</blockquote>
<h4 id="2-非对称加密"><a href="#2-非对称加密" class="headerlink" title="2.非对称加密"></a>2.非对称加密</h4><p>&emsp;&emsp;针对于对称加密存在的问题，使用非对称加密即可完美的解决。  </p>
<img src="/2016/09/04/%E5%AE%89%E5%85%A8%E7%AE%97%E6%B3%95%E6%A2%B3%E7%90%86/%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86%E4%B8%8E%E9%9D%9E%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86.jpg" class="" title="对称加密与非对称加密">

<p>&emsp;&emsp;由上图可以看出，左侧的对称加密为A、B、C、D四个用户分别分配了一个密钥，而右侧的非对称加密（也叫公开密钥加密技术）为A、B、C、D四个用户分配了相同的密钥。<br>&emsp;&emsp;非对称加密的密钥分为<code>公钥</code>和<code>私钥</code>，其中公钥和私钥都可以加密与解密。特别的是，公钥所加密的内容只有私钥能够解密。这样，对于服务器来讲，只需要把公钥分发给所有客户，自己保存好私钥即可。  </p>
<blockquote>
<ol>
<li>常用的非对称加密算法有：RSA、Elgamal、背包算法、Rabin、D-H、ECC（椭圆曲线加密算法）等。</li>
<li>百度百科：<a target="_blank" rel="noopener" href="http://baike.baidu.com/link?url=8MulbP9azuXwFgYkk-6OBVL0sDO7lFi4OeWewhENEdHo5o4dp-drc-HR6SnMm2gqSPg7B9hqM2bH0e1ZNfNBFq">非对称加密</a></li>
</ol>
</blockquote>
<h3 id="二、摘要算法"><a href="#二、摘要算法" class="headerlink" title="二、摘要算法"></a>二、摘要算法</h3><p>&emsp;&emsp;首先需要指明的是，摘要算法不属于加解密算法。<br>&emsp;&emsp;对摘要两字可以理解为<strong>对信息主体的浓缩</strong>。这种浓缩是一个<strong>不可逆</strong>的过程。<br>&emsp;&emsp;可以在这些地方使用摘要算法：明文密码取摘要后把摘要存入数据库、文件断点续传与秒传（用文件摘要确定唯一性）、不在网络中传输密码（密码做摘要后传输，在服务器端取出密码用相同的摘要算法计算摘要后再跟客户端传过来的摘要比对）  </p>
<blockquote>
<ol>
<li>常用的摘要算法有：MD5、SHA1、SHA256、SHA384、SHA512</li>
<li>百度百科：<a target="_blank" rel="noopener" href="http://baike.baidu.com/link?url=tCGQhcauD76QaTOjKvDaDmm5bS4Mw3bXf91WlepD2tumL4WBsexxaCxWrZqB-nBpJaIzY8s9bOduekfpCUxRNK">摘要算法</a></li>
</ol>
</blockquote>
<h3 id="三、数字签名"><a href="#三、数字签名" class="headerlink" title="三、数字签名"></a>三、数字签名</h3><p>&emsp;&emsp;数字签名可以理解为<code>摘要算法</code>与<code>非对称加密</code>的综合使用。<br>&emsp;&emsp;数字签名可以对应为经常见到的骑缝章（经常有人喜欢把名字写在书的侧面）。数字签名需要说明是谁编写的报文，同时证明报文未被篡改过。  </p>
<img src="/2016/09/04/%E5%AE%89%E5%85%A8%E7%AE%97%E6%B3%95%E6%A2%B3%E7%90%86/%E6%95%B0%E5%AD%97%E7%AD%BE%E5%90%8D.jpg" class="" title="数字签名">

<p>&emsp;&emsp;通过上图，可以清楚的看出，使用<code>摘要算法</code>来证明报文未被篡改过，使用<code>非对称加密</code>来说明是谁写的报文。</p>
<blockquote>
<p>百度百科:<a target="_blank" rel="noopener" href="http://baike.baidu.com/link?url=UjEIytZExoysf06dwc8LWXHNbMapFlmtm4UNmxy2ynHXzjlxqIOEMac7Qhel4qBaiSwv1EGmOLd08sr1wOpp2K">数字签名</a></p>
</blockquote>
<h3 id="四、数字证书"><a href="#四、数字证书" class="headerlink" title="四、数字证书"></a>四、数字证书</h3><p>&emsp;&emsp;我们可以通过非对称加密可以解决报文裸奔的问题。<br>&emsp;&emsp;试想，有这么一个场景，服务器A分发一个公钥给客户端B，正常情况下很OK。此时A和B之前有个中间代理C，A和B之间的所有数据传输都要经过C来中转。C被黑客控制，C把自己的公钥发给B（B误以为是A的），C收到B传输给A的消息，先用自己的私钥解密，获得明文。然后用A的公钥加密密文再转发给A。<br>&emsp;&emsp;这里就牵涉到一个问题，B怎么确定收到的公钥的确是A的，而不是别人伪造的？现实中的身份证，要想确定身份证是否是真实的，去权威机构（也就是公安局）查一下就行了。<br>&emsp;&emsp;数字证书也是这个原理，需要一个<strong>权威机构</strong>来颁发。以此来证明这个公钥到底是谁的。</p>
<img src="/2016/09/04/%E5%AE%89%E5%85%A8%E7%AE%97%E6%B3%95%E6%A2%B3%E7%90%86/%E6%95%B0%E5%AD%97%E8%AF%81%E4%B9%A6.jpg" class="" title="数字证书">

<p>&emsp;&emsp;上图是百度的数字证书，详细标明了颁发者、使用者、有效期、加密算法等信息。</p>
<blockquote>
<p>资料：<a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/blog/2011/08/what_is_a_digital_signature.html">“数字签名”（digital signature）和”数字证书”（digital certificate）到底是什么?</a></p>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://muchstudy.com/2016/09/04/%E5%AE%89%E5%85%A8%E7%AE%97%E6%B3%95%E6%A2%B3%E7%90%86/" data-id="cm5tqeetv001bwaypbs9y91fq" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AE%89%E5%85%A8/" rel="tag">安全</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-RSA加密解密样例" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/09/03/RSA%E5%8A%A0%E5%AF%86%E8%A7%A3%E5%AF%86%E6%A0%B7%E4%BE%8B/" class="article-date">
  <time datetime="2016-09-03T08:32:29.000Z" itemprop="datePublished">2016-09-03</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%AE%89%E5%85%A8/">安全</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/03/RSA%E5%8A%A0%E5%AF%86%E8%A7%A3%E5%AF%86%E6%A0%B7%E4%BE%8B/">RSA加密解密样例</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>场景：当未启用HTTPS时，用户的登录密码，以及当用户修改密码时，密码在网络中需要加密传输。</p>
</blockquote>
<h3 id="一、交互逻辑"><a href="#一、交互逻辑" class="headerlink" title="一、交互逻辑"></a>一、交互逻辑</h3><img src="/2016/09/03/RSA%E5%8A%A0%E5%AF%86%E8%A7%A3%E5%AF%86%E6%A0%B7%E4%BE%8B/RSA.png" class="" title="交互逻辑">

<p>&emsp;&emsp;上图中，前端部分运行在浏览器上，所以需要用JavaScript来加密需要传输的密码，后端部分使用Java来实现。</p>
<h3 id="二、前端部分"><a href="#二、前端部分" class="headerlink" title="二、前端部分"></a>二、前端部分</h3><p>&emsp;&emsp;前端部分的加密，选择<a target="_blank" rel="noopener" href="https://github.com/travist/jsencrypt">jsencrypt</a>来实现，代码如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//用户修改密码样例</span></span><br><span class="line">$(<span class="string">&quot;#ModifyPasswordBtn&quot;</span>).bind(<span class="string">&quot;click&quot;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">if</span>($(<span class="string">&quot;#ModifyPasswordForm&quot;</span>).valid())&#123;</span><br><span class="line">      <span class="comment">//这里的RSA是使用的模块化加载的入口</span></span><br><span class="line">      <span class="keyword">var</span> encrypt = <span class="keyword">new</span> RSA.JSEncrypt();</span><br><span class="line">      <span class="comment">//KEY为公钥</span></span><br><span class="line">      encrypt.setPublicKey(KEY);</span><br><span class="line">      <span class="keyword">var</span> data = &#123;</span><br><span class="line">          userUuid:USER.userUuid,</span><br><span class="line">          oldPassword:encrypt.encrypt($(<span class="string">&#x27;#oldPassword&#x27;</span>).val()),</span><br><span class="line">          newPassword:encrypt.encrypt($(<span class="string">&#x27;#newPassword&#x27;</span>).val())</span><br><span class="line">      &#125;;</span><br><span class="line">      $.ajax(&#123;</span><br><span class="line">          url:getServer()+<span class="string">&quot;your action&quot;</span>,</span><br><span class="line">          type:<span class="string">&quot;post&quot;</span>,</span><br><span class="line">          data:data,</span><br><span class="line">          success:<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">              <span class="keyword">var</span> status = data.modifyStatus;</span><br><span class="line">              <span class="keyword">if</span>(status==<span class="number">1</span>)&#123;</span><br><span class="line">                  Util.alert(<span class="string">&quot;修改成功&quot;</span>);</span><br><span class="line">              &#125;<span class="keyword">else</span> <span class="keyword">if</span>(status==<span class="number">0</span>)&#123;</span><br><span class="line">                  Util.alert(<span class="string">&quot;原密码不正确.&quot;</span>);</span><br><span class="line">              &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                  Util.alert(<span class="string">&quot;修改失败&quot;</span>);</span><br><span class="line">              &#125;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h3 id="三、后端部分"><a href="#三、后端部分" class="headerlink" title="三、后端部分"></a>三、后端部分</h3><p>&emsp;&emsp;后端部分使用Java来实现</p>
<h4 id="工具类"><a href="#工具类" class="headerlink" title="工具类"></a>工具类</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.share.util;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.security.InvalidKeyException;  </span><br><span class="line"><span class="keyword">import</span> java.security.KeyFactory;  </span><br><span class="line"><span class="keyword">import</span> java.security.KeyPair;  </span><br><span class="line"><span class="keyword">import</span> java.security.KeyPairGenerator;  </span><br><span class="line"><span class="keyword">import</span> java.security.NoSuchAlgorithmException;  </span><br><span class="line"><span class="keyword">import</span> java.security.SecureRandom;  </span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.security.interfaces.RSAPrivateKey;  </span><br><span class="line"><span class="keyword">import</span> java.security.interfaces.RSAPublicKey;  </span><br><span class="line"><span class="keyword">import</span> java.security.spec.InvalidKeySpecException;  </span><br><span class="line"><span class="keyword">import</span> java.security.spec.PKCS8EncodedKeySpec;  </span><br><span class="line"><span class="keyword">import</span> java.security.spec.X509EncodedKeySpec;  </span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.crypto.BadPaddingException;  </span><br><span class="line"><span class="keyword">import</span> javax.crypto.Cipher;  </span><br><span class="line"><span class="keyword">import</span> javax.crypto.IllegalBlockSizeException;  </span><br><span class="line"><span class="keyword">import</span> javax.crypto.NoSuchPaddingException;  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RSATools</span> </span>&#123;  </span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 生成RAS公钥与私钥字符串，直接返回</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> HashMap&lt;String,String&gt; <span class="title">getKeys</span><span class="params">()</span></span>&#123;</span><br><span class="line">    	HashMap&lt;String,String&gt; map = <span class="keyword">new</span> HashMap&lt;String,String&gt;();</span><br><span class="line">    	 KeyPairGenerator keyPairGen = <span class="keyword">null</span>;  </span><br><span class="line">         <span class="keyword">try</span> &#123;  </span><br><span class="line">             keyPairGen = KeyPairGenerator.getInstance(<span class="string">&quot;RSA&quot;</span>);  </span><br><span class="line">         &#125; <span class="keyword">catch</span> (NoSuchAlgorithmException e) &#123;  </span><br><span class="line">             <span class="comment">// TODO Auto-generated catch block  </span></span><br><span class="line">             e.printStackTrace();  </span><br><span class="line">         &#125;  </span><br><span class="line">         <span class="comment">// 初始化密钥对生成器，密钥大小为96-1024位  </span></span><br><span class="line">         keyPairGen.initialize(<span class="number">1024</span>,<span class="keyword">new</span> SecureRandom());  </span><br><span class="line">         <span class="comment">// 生成一个密钥对，保存在keyPair中  </span></span><br><span class="line">         KeyPair keyPair = keyPairGen.generateKeyPair();  </span><br><span class="line">         <span class="comment">//得到公钥字符串  </span></span><br><span class="line">         String publicKey	= base64ToStr(keyPair.getPublic().getEncoded());  </span><br><span class="line">         <span class="comment">//得到私钥字符串  </span></span><br><span class="line">         String privateKey	= base64ToStr(keyPair.getPrivate().getEncoded());  </span><br><span class="line">         map.put(<span class="string">&quot;publicKey&quot;</span>, publicKey);</span><br><span class="line">         map.put(<span class="string">&quot;privateKey&quot;</span>, privateKey);</span><br><span class="line">    	<span class="keyword">return</span> map;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 从字符串中加载公钥</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> publicKeyStr	公钥字符串</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> Exception</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> RSAPublicKey <span class="title">loadPublicKey</span><span class="params">(String publicKeyStr)</span> <span class="keyword">throws</span> Exception </span>&#123;  </span><br><span class="line">        <span class="keyword">try</span> &#123;  </span><br><span class="line">            <span class="keyword">byte</span>[] buffer = javax.xml.bind.DatatypeConverter.parseBase64Binary(publicKeyStr);  </span><br><span class="line">            KeyFactory keyFactory = KeyFactory.getInstance(<span class="string">&quot;RSA&quot;</span>);  </span><br><span class="line">            X509EncodedKeySpec keySpec = <span class="keyword">new</span> X509EncodedKeySpec(buffer);  </span><br><span class="line">            <span class="keyword">return</span> (RSAPublicKey) keyFactory.generatePublic(keySpec);  </span><br><span class="line">        &#125; <span class="keyword">catch</span> (NoSuchAlgorithmException e) &#123;  </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;无此算法&quot;</span>);  </span><br><span class="line">        &#125; <span class="keyword">catch</span> (InvalidKeySpecException e) &#123;  </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;公钥非法&quot;</span>);  </span><br><span class="line">        &#125; <span class="keyword">catch</span> (NullPointerException e) &#123;  </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;公钥数据为空&quot;</span>);  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 从字符串中加载私钥</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> privateKeyStr		私钥字符串</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> Exception</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> RSAPrivateKey <span class="title">loadPrivateKey</span><span class="params">(String privateKeyStr)</span> <span class="keyword">throws</span> Exception </span>&#123;  </span><br><span class="line">    	<span class="keyword">try</span> &#123;  </span><br><span class="line">            <span class="keyword">byte</span>[] buffer = javax.xml.bind.DatatypeConverter.parseBase64Binary(privateKeyStr);  </span><br><span class="line">            PKCS8EncodedKeySpec keySpec = <span class="keyword">new</span> PKCS8EncodedKeySpec(buffer);  </span><br><span class="line">            KeyFactory keyFactory = KeyFactory.getInstance(<span class="string">&quot;RSA&quot;</span>);  </span><br><span class="line">            <span class="keyword">return</span> (RSAPrivateKey) keyFactory.generatePrivate(keySpec);  </span><br><span class="line">        &#125; <span class="keyword">catch</span> (NoSuchAlgorithmException e) &#123;  </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;无此算法&quot;</span>);  </span><br><span class="line">        &#125; <span class="keyword">catch</span> (InvalidKeySpecException e) &#123;  </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;私钥非法&quot;</span>);  </span><br><span class="line">        &#125; <span class="keyword">catch</span> (NullPointerException e) &#123;  </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;私钥数据为空&quot;</span>);  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 公钥加密过程</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> publicKey      公钥</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> plainTextData  明文数据</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> Exception     加密过程中的异常信息</span></span><br><span class="line"><span class="comment">     */</span>  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">encrypt</span><span class="params">(RSAPublicKey publicKey, <span class="keyword">byte</span>[] plainTextData)</span><span class="keyword">throws</span> Exception </span>&#123;  </span><br><span class="line">        <span class="keyword">if</span> (publicKey == <span class="keyword">null</span>) &#123;  </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;加密公钥为空, 请设置&quot;</span>);  </span><br><span class="line">        &#125;  </span><br><span class="line">        Cipher cipher = <span class="keyword">null</span>;  </span><br><span class="line">        <span class="keyword">try</span> &#123;  </span><br><span class="line">            <span class="comment">// 使用默认RSA  </span></span><br><span class="line">            cipher = Cipher.getInstance(<span class="string">&quot;RSA&quot;</span>);  </span><br><span class="line">            cipher.init(Cipher.ENCRYPT_MODE, publicKey);  </span><br><span class="line">            <span class="keyword">byte</span>[] output = cipher.doFinal(plainTextData);  </span><br><span class="line">            <span class="keyword">return</span> base64ToStr(output);  </span><br><span class="line">        &#125; <span class="keyword">catch</span> (NoSuchAlgorithmException e) &#123;  </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;无此加密算法&quot;</span>);  </span><br><span class="line">        &#125; <span class="keyword">catch</span> (NoSuchPaddingException e) &#123;  </span><br><span class="line">            e.printStackTrace();  </span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;  </span><br><span class="line">        &#125; <span class="keyword">catch</span> (InvalidKeyException e) &#123;  </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;加密公钥非法,请检查&quot;</span>);  </span><br><span class="line">        &#125; <span class="keyword">catch</span> (IllegalBlockSizeException e) &#123;  </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;明文长度非法&quot;</span>);  </span><br><span class="line">        &#125; <span class="keyword">catch</span> (BadPaddingException e) &#123;  </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;明文数据已损坏&quot;</span>);  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 私钥加密过程</span></span><br><span class="line"><span class="comment">     *  </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> privateKey       私钥</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> plainTextData    明文数据</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> Exception       加密过程中的异常信息</span></span><br><span class="line"><span class="comment">     */</span>  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">encrypt</span><span class="params">(RSAPrivateKey privateKey, <span class="keyword">byte</span>[] plainTextData)</span> <span class="keyword">throws</span> Exception </span>&#123;  </span><br><span class="line">        <span class="keyword">if</span> (privateKey == <span class="keyword">null</span>) &#123;  </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;加密私钥为空, 请设置&quot;</span>);  </span><br><span class="line">        &#125;  </span><br><span class="line">        Cipher cipher = <span class="keyword">null</span>;  </span><br><span class="line">        <span class="keyword">try</span> &#123;  </span><br><span class="line">            <span class="comment">// 使用默认RSA  </span></span><br><span class="line">            cipher = Cipher.getInstance(<span class="string">&quot;RSA&quot;</span>);  </span><br><span class="line">            cipher.init(Cipher.ENCRYPT_MODE, privateKey);  </span><br><span class="line">            <span class="keyword">byte</span>[] output = cipher.doFinal(plainTextData);  </span><br><span class="line">            <span class="keyword">return</span> base64ToStr(output);  </span><br><span class="line">        &#125; <span class="keyword">catch</span> (NoSuchAlgorithmException e) &#123;  </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;无此加密算法&quot;</span>);  </span><br><span class="line">        &#125; <span class="keyword">catch</span> (NoSuchPaddingException e) &#123;  </span><br><span class="line">            e.printStackTrace();  </span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;  </span><br><span class="line">        &#125; <span class="keyword">catch</span> (InvalidKeyException e) &#123;  </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;加密私钥非法,请检查&quot;</span>);  </span><br><span class="line">        &#125; <span class="keyword">catch</span> (IllegalBlockSizeException e) &#123;  </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;明文长度非法&quot;</span>);  </span><br><span class="line">        &#125; <span class="keyword">catch</span> (BadPaddingException e) &#123;  </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;明文数据已损坏&quot;</span>);  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 私钥解密过程</span></span><br><span class="line"><span class="comment">     *  </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> privateKey   私钥</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> cipherData   密文数据</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> 			      明文</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> Exception   解密过程中的异常信息</span></span><br><span class="line"><span class="comment">     */</span>  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">decrypt</span><span class="params">(RSAPrivateKey privateKey, <span class="keyword">byte</span>[] cipherData)</span> <span class="keyword">throws</span> Exception </span>&#123;  </span><br><span class="line">        <span class="keyword">if</span> (privateKey == <span class="keyword">null</span>) &#123;  </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;解密私钥为空, 请设置&quot;</span>);  </span><br><span class="line">        &#125;  </span><br><span class="line">        Cipher cipher = <span class="keyword">null</span>;  </span><br><span class="line">        <span class="keyword">try</span> &#123;  </span><br><span class="line">            <span class="comment">// 使用默认RSA  </span></span><br><span class="line">            cipher = Cipher.getInstance(<span class="string">&quot;RSA&quot;</span>);  </span><br><span class="line">            cipher.init(Cipher.DECRYPT_MODE, privateKey);  </span><br><span class="line">            <span class="keyword">byte</span>[] output = cipher.doFinal(cipherData);  </span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> String(output);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (NoSuchAlgorithmException e) &#123;  </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;无此解密算法&quot;</span>);  </span><br><span class="line">        &#125; <span class="keyword">catch</span> (NoSuchPaddingException e) &#123;  </span><br><span class="line">            e.printStackTrace();  </span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;  </span><br><span class="line">        &#125; <span class="keyword">catch</span> (InvalidKeyException e) &#123;  </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;解密私钥非法,请检查&quot;</span>);  </span><br><span class="line">        &#125; <span class="keyword">catch</span> (IllegalBlockSizeException e) &#123;  </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;密文长度非法&quot;</span>);  </span><br><span class="line">        &#125; <span class="keyword">catch</span> (BadPaddingException e) &#123;  </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;密文数据已损坏&quot;</span>);  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 公钥解密过程</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> publicKey    	公钥</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> cipherData   	密文数据</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> 				明文</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> Exception 	解密过程中的异常信息</span></span><br><span class="line"><span class="comment">     */</span>  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">decrypt</span><span class="params">(RSAPublicKey publicKey, <span class="keyword">byte</span>[] cipherData)</span> <span class="keyword">throws</span> Exception </span>&#123;  </span><br><span class="line">        <span class="keyword">if</span> (publicKey == <span class="keyword">null</span>) &#123;  </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;解密公钥为空, 请设置&quot;</span>);  </span><br><span class="line">        &#125;  </span><br><span class="line">        Cipher cipher = <span class="keyword">null</span>;  </span><br><span class="line">        <span class="keyword">try</span> &#123;  </span><br><span class="line">            <span class="comment">// 使用默认RSA  </span></span><br><span class="line">            cipher = Cipher.getInstance(<span class="string">&quot;RSA&quot;</span>);  </span><br><span class="line">            cipher.init(Cipher.DECRYPT_MODE, publicKey);  </span><br><span class="line">            <span class="keyword">byte</span>[] output = cipher.doFinal(cipherData);  </span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> String(output);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (NoSuchAlgorithmException e) &#123;  </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;无此解密算法&quot;</span>);  </span><br><span class="line">        &#125; <span class="keyword">catch</span> (NoSuchPaddingException e) &#123;  </span><br><span class="line">            e.printStackTrace();  </span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;  </span><br><span class="line">        &#125; <span class="keyword">catch</span> (InvalidKeyException e) &#123;  </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;解密公钥非法,请检查&quot;</span>);  </span><br><span class="line">        &#125; <span class="keyword">catch</span> (IllegalBlockSizeException e) &#123;  </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;密文长度非法&quot;</span>);  </span><br><span class="line">        &#125; <span class="keyword">catch</span> (BadPaddingException e) &#123;  </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;密文数据已损坏&quot;</span>);  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">base64ToStr</span><span class="params">(<span class="keyword">byte</span>[] b)</span></span>&#123;</span><br><span class="line">    	<span class="keyword">return</span> javax.xml.bind.DatatypeConverter.printBase64Binary(b);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">byte</span>[] strToBase64(String str)&#123;</span><br><span class="line">    	<span class="keyword">return</span> javax.xml.bind.DatatypeConverter.parseBase64Binary(str);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>

<h4 id="生成公钥-私钥"><a href="#生成公钥-私钥" class="headerlink" title="生成公钥/私钥"></a>生成公钥/私钥</h4><p>&emsp;&emsp;在第一次请求时生成公钥与私钥，并放到当前线程上。返回公钥给客户端。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">HashMap&lt;String, String&gt; map = RSATools.getKeys();</span><br><span class="line">session.setAttribute(<span class="string">&quot;PD_CurrentRSAKey&quot;</span>, map);</span><br></pre></td></tr></table></figure>

<h4 id="私钥解密"><a href="#私钥解密" class="headerlink" title="私钥解密"></a>私钥解密</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//从session上拿到上次生成的密钥</span></span><br><span class="line">HashMap&lt;String, String&gt; map   = (HashMap&lt;String, String&gt;) session.getAttribute(<span class="string">&quot;PD_CurrentRSAKey&quot;</span>);</span><br><span class="line">RSAPrivateKey privateKey      = RSATools.loadPrivateKey(map.get(<span class="string">&quot;privateKey&quot;</span>));</span><br><span class="line"><span class="comment">//使用私钥解密传输过来的密码</span></span><br><span class="line">String userUuid     = request.getParameter(<span class="string">&quot;userUuid&quot;</span>);</span><br><span class="line">String oldPassword  = RSATools.decrypt(privateKey, RSATools.strToBase64(request.getParameter(<span class="string">&quot;oldPassword&quot;</span>)));</span><br><span class="line">String newPassword  = RSATools.decrypt(privateKey, RSATools.strToBase64(request.getParameter(<span class="string">&quot;newPassword&quot;</span>)));</span><br></pre></td></tr></table></figure>

<h3 id="四、可运行的样例"><a href="#四、可运行的样例" class="headerlink" title="四、可运行的样例"></a>四、可运行的样例</h3><p>&emsp;&emsp;后续提供github地址</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://muchstudy.com/2016/09/03/RSA%E5%8A%A0%E5%AF%86%E8%A7%A3%E5%AF%86%E6%A0%B7%E4%BE%8B/" data-id="cm5tqeetu0016waypcku747e2" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/" rel="tag">Java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/RSA/" rel="tag">RSA</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-《嫌疑人X的献身》" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/08/28/%E3%80%8A%E5%AB%8C%E7%96%91%E4%BA%BAX%E7%9A%84%E7%8C%AE%E8%BA%AB%E3%80%8B/" class="article-date">
  <time datetime="2016-08-28T14:09:42.000Z" itemprop="datePublished">2016-08-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Life/">Life</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/28/%E3%80%8A%E5%AB%8C%E7%96%91%E4%BA%BAX%E7%9A%84%E7%8C%AE%E8%BA%AB%E3%80%8B/">《嫌疑人X的献身》</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <img src="/2016/08/28/%E3%80%8A%E5%AB%8C%E7%96%91%E4%BA%BAX%E7%9A%84%E7%8C%AE%E8%BA%AB%E3%80%8B/%E5%AB%8C%E7%96%91%E4%BA%BAX%E7%9A%84%E7%8C%AE%E8%BA%AB.jpg" class="" title="《嫌疑人X的献身》">

<blockquote>
<p>黑色的封面，代表着这是一个悲伤的故事。</p>
</blockquote>
<p>&emsp;&emsp;紧接<a href="http://muchstudy.com/2016/08/28/%E3%80%8A%E7%99%BD%E5%A4%9C%E8%A1%8C%E3%80%8B/">上一篇</a>,看完《白夜行》后，发现节奏带太快，收不住。忍不住搜一搜东野圭吾的其他小说，最后确定目标：《嫌疑人X的献身》。就是想一窥到底，看看东野圭吾是不是像网评的那么神！<br>&emsp;&emsp;之所以会盯上这本书，是因为大家都说这本书的故事神奇。一开始，读者便知道了作案凶手以及详细的作案细节！我勒个去！这么搞那还有什么悬念可言？在平生所看的悬疑类小说中，通常一开始就埋坑，然后到结尾才知道答案，抓住凶手。东野圭吾这是要搞哪样，太嚣张了！<br>&emsp;&emsp;这本书讲述的是一个理工男暗恋上隔壁女邻居的故事。这个女邻居离异，和女儿一起生活。前任老公一直缠着她不放，经常找她要钱。一次来找她，她和她女儿一起把前任老公杀死了。住在隔壁的理工男协助掩盖真相，故事由此展开。<br>&emsp;&emsp;最多剧透到此，不能再剧透了！照例放点儿书中的内容片段勾起大家的想要一睹为快的冲动！</p>
<ul>
<li><p>石神并不排斥森冈这种质疑的态度，<strong>对于为何要学习某种东西抱有疑问，本是理所当然。唯有疑问解除了，才会产生求知的欲望，才能走上理解数学本质之路。</strong>可惜太多老师不愿回答这种单纯的疑问。不，是答不出，石神知道，他们也没真正理解数学，只是按照既定的教材照本宣科，只想着让学生拿到好分数。对森冈提出的这种质疑，恐怕只会觉得不耐烦。</p>
<blockquote>
<p>可惜自己开窍得太晚！当需要用知识去赚钱生活时才发现上学那会儿的课程是多么的重要！线性代数、统计、积分……想想都是泪！</p>
</blockquote>
</li>
<li><p>这个世上没有无用的齿轮，只有齿轮自身才能决定自己的用途</p>
<blockquote>
<p>人也一样，需要自己成全自己。（突然想到《霸王别姬》中大师兄让小师弟自己成全自己。假霸王，真虞姬，哎！）</p>
</blockquote>
</li>
<li><p>草薙告诉我一件有趣的事，是关于你出考题的方式，针对自以为是的盲点。比方说看起来是几何问题，其实是函数问题，我听了恍然大悟。对那种不懂数学的本质、早已习惯根据思维定势解答的学生来说，这种题目想必很有效。乍看之下是几何问题，学生拼命朝那个方向想，却解不出来，唯有时间分秒流逝。要说是坏心眼，确实有点儿过分，但用来测试真正的实力，诚然有效。”</p>
<blockquote>
<p>上学时，就经常碰到这样坏心眼儿的老师！好像暴露了什么……强行逆转，看问题不应该被问题的表象所蒙蔽，应该直达问题的本质。解决程序Bug也一样。再次成功穿越……</p>
</blockquote>
</li>
<li><p>“最后一次见到石神时，他问了我一个问题——P≠NP。自己想出答案和判断别人的答案是否正确，何者较容易——这是著名的数学难题。” 　　草薙皱起眉头。 　　“那是数学？听起来像哲学。” 　　“你明白吗？石神给你们提出了一个答案，也就是这次的自首、供述内容。这一自白怎么看都像正确无误的解答，是他充分发挥智慧想出来的。如果就这么乖乖相信，那就表示你们输了。你们正受到来自他的挑战和考验！接下来，该轮到你们全力以赴，判断他提供的答案是否正确。” 　　“我们已经作了各种证实。” 　　“你们做的，只是按照他的证明方法走。你们该做的，是探寻有没有别的答案。除了他提供的答案之外别无可能——唯有证明到这个地步，才能断言，那个答案是唯一的答案！”</p>
<blockquote>
<p>由此可见，判断别人给的答案是否正确远比自己想出答案更难。自信的数学家，妙！</p>
</blockquote>
</li>
<li><p>指示之后，还有这么一段。工藤邦明先生是个诚实可靠的人。和他结婚，你和美里获得幸福的几率较高。把我完全忘记，不要有任何负罪感。如果你过得不幸福，我所做的一切才是徒劳。她看了又看，再次落泪。</p>
<blockquote>
<p>这就是一个数学家，一个理工男对爱的表达。</p>
</blockquote>
</li>
<li><p>心如明镜不带丝毫阴霾的，世上只有石神。</p>
<blockquote>
<p>理工男往往是比较单纯的，内心世界只有逻辑。</p>
</blockquote>
</li>
<li><p>他再次感到，自己并不需要任何人的肯定。他也有发表论文、受人重视的欲望，但那非关数学本质。让别人知道是谁第一个爬上山顶固然重要，但只要当事人自己明白其中的真味，也就足够了。</p>
<blockquote>
<p>很理解这种乐在其中的快乐。</p>
</blockquote>
</li>
<li><p>他已毫无留恋。没有理由寻死，也没有理由活着，如此而已。 　　他站上台子，正要把脖子套进绳索时，门铃响了。 　　是扭转命运方向的门铃。 　　他没有置之不理，他不想给任何人添麻烦。门外的某人，说不定有急事。 　　开门一看，门外站着两个女子，是一对母女。 　　母亲自我介绍说她们刚搬来隔壁，女儿在一旁鞠躬。看到两人时，石神的身体仿佛猛然被某种东西贯穿。 　　怎么会有眼睛如此美丽的母女？在那之前，他从未被任何东西的美丽吸引、感动过，也不了解艺术的意义。然而这一瞬间，他全都懂了，他发觉这和求解数学的美感在本质上乃是殊途同归。</p>
<blockquote>
<p><a href="http://muchstudy.com/2016/08/16/%E7%9C%9F%E3%80%81%E5%96%84%E3%80%81%E7%BE%8E/">真、善、美</a>其实是共通的，殊途同归。</p>
</blockquote>
</li>
<li><p>石神早已忘记她们是怎么打招呼的，但两人凝视他的明眸如何流转，至今仍清晰烙印在记忆深处。</p>
<blockquote>
<p>喜欢上一个人往往只需要一瞬！</p>
</blockquote>
</li>
</ul>
<p>&emsp;&emsp;看完了全书，由衷的赞叹本田圭吾能写出如此神作，故事架构精巧慎密，看到最后，当知道实情后眼前一亮，虎躯一震，惊叹万分。<br>&emsp;&emsp;整本书的感受只能用Perfect、Amazing、Heartbreaking 来形容。</p>
<div style="width:70%;margin:auto">
<img src='http://muchstudy.com/2020/04/04/聊聊一线开发的基本素养/公众号二维码.gif'>
</div>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://muchstudy.com/2016/08/28/%E3%80%8A%E5%AB%8C%E7%96%91%E4%BA%BAX%E7%9A%84%E7%8C%AE%E8%BA%AB%E3%80%8B/" data-id="cm5tqeetr0010wayp5l9ma93l" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" rel="tag">读书笔记</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-《白夜行》" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/08/28/%E3%80%8A%E7%99%BD%E5%A4%9C%E8%A1%8C%E3%80%8B/" class="article-date">
  <time datetime="2016-08-28T06:08:51.000Z" itemprop="datePublished">2016-08-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Life/">Life</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/28/%E3%80%8A%E7%99%BD%E5%A4%9C%E8%A1%8C%E3%80%8B/">《白夜行》</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>好东西需要分享，所以今天来义务当一回五毛。</p>
</blockquote>
<p>&emsp;&emsp;前段时间休了一次长假，长假回来发现状态全无，晚上下班回家无所事事，什么事儿没干一晃就到了睡觉时间，这种状态让人感觉很不踏实。为了找找学习状态，重找晚上回家看书的习惯，需要带一波节奏。<br>&emsp;&emsp;据以往经验，想要把节奏带起来，不能来得太陡，必须循序渐进。如果一上来就找本技术大部头来啃绝对容易打瞌睡！很早之前在知乎就看到有人推荐东野圭吾的《白夜行》，说这本小说很不错，属于推理悬疑小说。看到推理悬疑，想到这种小说肯定属于不断挖坑，引人入胜，打开就停不下来的小说。每天晚上回家来上一章，绝对停不下来！带节奏神器！<br>&emsp;&emsp;下面，就来先见见这本书的封面。</p>
<img src="/2016/08/28/%E3%80%8A%E7%99%BD%E5%A4%9C%E8%A1%8C%E3%80%8B/%E7%99%BD%E5%A4%9C%E8%A1%8C.jpg" class="" title="《白夜行》">

<p>&emsp;&emsp;从封面上看，可能会觉得很普通，老实说，当时看到的第一眼也是这么认为的。不过当我看完全书再回过头来着封面，觉得设计得真TMD的有深意！<br>&emsp;&emsp;作为摇旗呐喊的五毛，当然是不可能剧透的！不过倒是可以放点儿书中的内容勾引勾引….</p>
<ul>
<li><p>她的眼神里有一种微妙得难以言喻的刺。但那并不是社交舞社社长无视她的存在，只顾和朋友讲话而自尊受伤的样子。那双眼睛里栖息的光并不属于那种类型。 那是更危险的光——这才是一成的感觉，可以说是隐含了卑劣下流的光。他认为真正的名门闺秀，眼神里不应栖息着那样的光。</p>
<blockquote>
<p>&emsp;&emsp;公司最近招了一拨实习生，好怀念自己当年初入职场时那单纯、清澈的眼神！随着阅历的增加，眼神中的那股清流慢慢的消失。如果能一直保持住像三四岁小孩儿那种干净清澈的眼神该多好！已入职场6年，希望能不断学习成长，通过智慧让自己的眼神不至于渐渐变得黯淡无光，不求清澈见底，至少炯炯、明亮。</p>
</blockquote>
</li>
<li><p>“捡别人丢的东西不还，跟偷别人随意放置的东西，并没有什么差别。有错的难道不是把装了钱的包随便放的人吗？<strong>这个社会上，让别人有机可乘的人注定要吃亏。</strong>”</p>
</li>
<li><p>“我很不想承认，可你的确是本世纪最幸运的男人。娶到那么美的老婆就该偷笑了，她竟然还烧得一手好菜！<strong>一想到我跟你活在同一个世界上，实在很难不嫌弃自己。</strong>”</p>
</li>
<li><p>看着她，总会感到一种莫名的诡异，我实在不认为她只是个坚强的女子。”</p>
<blockquote>
<p>坚强往往是需要某种力量来支撑的！</p>
</blockquote>
</li>
<li><p>一双看尽人性丑恶的眼睛，一种堪称真正冷静清澈的光静静地栖息其中。</p>
<blockquote>
<p>这句话是形容书中一直追踪命案二十年一直不放弃的老警察</p>
</blockquote>
</li>
<li><p>“枪虾会挖洞，住在洞里。可有个家伙却要去住在它的洞里，那就是虾虎鱼。不过虾虎鱼也不白住，它会在洞口巡视，要是有外敌靠近，就摆动尾鳍通知洞里的枪虾。它们合作无间，这好像叫互利共生。”</p>
<blockquote>
<p>仔细想想，这种相互依偎取暖也挺可怜的！</p>
</blockquote>
</li>
<li><p>“有一株芽应该在那时就摘掉，因为没摘，芽一天天成长茁壮，长大了还开了花，而且是作恶的花。”</p>
<blockquote>
<p>恶之花一开始就应该摘掉，越晚摘除后果越大。写代码也一样，问题代码一开始就应该干掉，而不应该一味的容忍做兼容！神转折吧！</p>
</blockquote>
</li>
<li><p>曾经拥有的东西被夺走，并不代表就会回到原来没有那种东西的时候。</p>
<blockquote>
<p>这句话很有深意啊！值得仔细思考！</p>
</blockquote>
</li>
<li><p>“那时，我比现在的你更小，真的还是小孩子。但是，恶魔不会因为你是小孩子就放过你。而且，恶魔还不止一个。”  </p>
<blockquote>
<p>遇到恶魔就不要指望得到恶魔的同情。</p>
</blockquote>
</li>
<li><p>“喏，夏美，一天当中，有太阳升起的时候，也有下沉的时候。人生也一样，有白天和黑夜，只是不会像真正的太阳那样，有定时的日出和日落。看个人，有些人一辈子都活在太阳的照耀下，也有些人不得不一直活在漆黑的深夜里。人害怕的，就是本来一直存在的太阳落下不再升起，也就是非常害怕原本照在身上的光芒消失，现在的夏美就是这样。” 夏美听不懂老板在说什么，只好点头。 “我呢，从来就没有生活在太阳底下过。” “怎么会！”夏美笑了，“社长总是如日中天呢。” 她摇头。她的眼神是那么真挚，夏美的笑容也不由得消失了。 “我的天空里没有太阳，总是黑夜，但并不暗，因为有东西代替了太阳。虽然没有太阳那么明亮，但对我来说已经足够。凭借着这份光，我便能把黑夜当成白天。你明白吧？我从来就没有太阳，所以不怕失去。”“代替太阳的东西是什么呢？” “你说呢？也许夏美以后会有明白的一天。”</p>
<blockquote>
<p>看到这儿，终于明白书名为何取为《白夜行》。这样的人生居然还能如此坚强！在白夜中行走需要多大的勇气！</p>
</blockquote>
</li>
</ul>
<p>&emsp;&emsp;看完书的最后一个字，合上书，静静的看着书的封面，思绪万千！</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://muchstudy.com/2016/08/28/%E3%80%8A%E7%99%BD%E5%A4%9C%E8%A1%8C%E3%80%8B/" data-id="cm5tqeett0013wayp3ue81c7o" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" rel="tag">读书笔记</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/15/">&amp;laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/14/">14</a><a class="page-number" href="/page/15/">15</a><span class="page-number current">16</span><a class="page-number" href="/page/17/">17</a><a class="page-number" href="/page/18/">18</a><a class="extend next" rel="next" href="/page/17/">Next &amp;raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/DBMS/">DBMS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/FrontEnd/">FrontEnd</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/HTTP/">HTTP</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Life/">Life</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Maven/">Maven</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Programmer/">Programmer</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Thinking/">Thinking</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E4%BA%A7%E5%93%81%E7%A0%94%E5%8F%91/">产品研发</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%85%B6%E5%AE%83/">其它</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AE%89%E5%85%A8/">安全</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9E%B6%E6%9E%84/">架构</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">设计模式</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTP%E5%AE%89%E5%85%A8/" rel="tag">HTTP安全</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTP%E7%8A%B6%E6%80%81%E7%A0%81/" rel="tag">HTTP状态码</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTP%E8%BF%9E%E6%8E%A5/" rel="tag">HTTP连接</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/" rel="tag">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Life/" rel="tag">Life</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/POI/" rel="tag">POI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RSA/" rel="tag">RSA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nexus/" rel="tag">nexus</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/restfull/" rel="tag">restfull</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sqlmap/" rel="tag">sqlmap</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sql%E6%B3%A8%E5%85%A5/" rel="tag">sql注入</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF/" rel="tag">前端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%93%B2%E5%AD%A6/" rel="tag">哲学</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9B%A2%E9%98%9F%E7%AE%A1%E7%90%86/" rel="tag">团队管理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AE%89%E5%85%A8/" rel="tag">安全</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B7%A5%E4%BD%9C%E6%80%9D%E8%80%83/" rel="tag">工作思考</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B7%A5%E5%85%B7%E7%B1%BB/" rel="tag">工具类</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/" rel="tag">排序算法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BC%93%E5%AD%98/" rel="tag">缓存</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AF%BB%E4%B9%A6/" rel="tag">读书</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" rel="tag">读书笔记</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9A%8F%E7%AC%94/" rel="tag">随笔</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/HTTP%E5%AE%89%E5%85%A8/" style="font-size: 10px;">HTTP安全</a> <a href="/tags/HTTP%E7%8A%B6%E6%80%81%E7%A0%81/" style="font-size: 10px;">HTTP状态码</a> <a href="/tags/HTTP%E8%BF%9E%E6%8E%A5/" style="font-size: 10px;">HTTP连接</a> <a href="/tags/Java/" style="font-size: 10px;">Java</a> <a href="/tags/JavaScript/" style="font-size: 10px;">JavaScript</a> <a href="/tags/Life/" style="font-size: 10px;">Life</a> <a href="/tags/POI/" style="font-size: 10px;">POI</a> <a href="/tags/RSA/" style="font-size: 10px;">RSA</a> <a href="/tags/nexus/" style="font-size: 10px;">nexus</a> <a href="/tags/restfull/" style="font-size: 10px;">restfull</a> <a href="/tags/sqlmap/" style="font-size: 10px;">sqlmap</a> <a href="/tags/sql%E6%B3%A8%E5%85%A5/" style="font-size: 10px;">sql注入</a> <a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 10px;">前端</a> <a href="/tags/%E5%93%B2%E5%AD%A6/" style="font-size: 10px;">哲学</a> <a href="/tags/%E5%9B%A2%E9%98%9F%E7%AE%A1%E7%90%86/" style="font-size: 10px;">团队管理</a> <a href="/tags/%E5%AE%89%E5%85%A8/" style="font-size: 10px;">安全</a> <a href="/tags/%E5%B7%A5%E4%BD%9C%E6%80%9D%E8%80%83/" style="font-size: 20px;">工作思考</a> <a href="/tags/%E5%B7%A5%E5%85%B7%E7%B1%BB/" style="font-size: 12px;">工具类</a> <a href="/tags/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/" style="font-size: 10px;">排序算法</a> <a href="/tags/%E7%BC%93%E5%AD%98/" style="font-size: 14px;">缓存</a> <a href="/tags/%E8%AF%BB%E4%B9%A6/" style="font-size: 12px;">读书</a> <a href="/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" style="font-size: 18px;">读书笔记</a> <a href="/tags/%E9%9A%8F%E7%AC%94/" style="font-size: 16px;">随笔</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/01/">January 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/05/">May 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/03/">March 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/02/">February 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/01/">January 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/10/">October 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/09/">September 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/08/">August 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/07/">July 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">March 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">February 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">January 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">November 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">October 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">September 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">August 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2025/01/12/%E4%BA%BA%E7%94%9F%E4%B8%AD%E5%94%AF%E4%B8%80%E7%9A%842024/">人生中唯一的2024</a>
          </li>
        
          <li>
            <a href="/2024/05/27/%E3%80%8A%E5%BE%B7%E7%B1%B3%E5%AE%89%EF%BC%9A%E5%BD%B7%E5%BE%A8%E5%B0%91%E5%B9%B4%E6%97%B6%E3%80%8B/">《德米安：彷徨少年时》</a>
          </li>
        
          <li>
            <a href="/2024/05/26/%E3%80%8A%E5%AE%9D%E8%B4%B5%E7%9A%84%E4%BA%BA%E7%94%9F%E5%BB%BA%E8%AE%AE%E3%80%8B/">《宝贵的人生建议》</a>
          </li>
        
          <li>
            <a href="/2024/03/17/%E3%80%8A%E7%AE%A1%E7%90%86%E7%9A%84%E5%AE%9E%E8%B7%B5%E3%80%8B/">《管理的实践》</a>
          </li>
        
          <li>
            <a href="/2024/02/24/%E3%80%8A%E5%8D%93%E6%9C%89%E6%88%90%E6%95%88%E7%9A%84%E7%AE%A1%E7%90%86%E8%80%85%E3%80%8B/">《卓有成效的管理者》</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2025 YiYing<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>